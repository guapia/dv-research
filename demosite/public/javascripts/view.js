var __extends=this&&this.__extends||function(){var t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i])};return function(e,i){function n(){this.constructor=e}t(e,i),e.prototype=null===i?Object.create(i):(n.prototype=i.prototype,new n)}}();!function(t){!function(e){"use strict";var i=t.graphics.Util,n=function(){function n(){}return n.max=function(t){for(var e=[],i=0,n=t;i<n.length;i++){var a=n[i];isNaN(a)||null==a||e.push(a)}return Math.max.apply(this,e)},n.min=function(t){for(var e=[],i=0,n=t;i<n.length;i++){var a=n[i];isNaN(a)||null==a||e.push(a)}return Math.min.apply(this,e)},n.iskey=function(t){return null!=t&&"string"==typeof t&&"_"!=t[0]},n.checkArrayType=function(e){t.Debug.assert(null!=e),t.Debug.assert(e.length>0);for(var i=typeof e[0],n=0,a=e;n<a.length;n++){if(i!=typeof a[n])return!1}return!0},n.getType=function(i){var a=null;if(i instanceof Array){if(t.Debug.assert(null!=i),t.Debug.assert(i.length>0),a=e.DataType.Array,n.checkArrayType(i))return n.getType(i[0])}else"number"==typeof i?a=e.DataType.Number:"string"==typeof i?a=e.DataType.String:"boolean"==typeof i?a=e.DataType.Boolean:t.Debug.assert(!0,"Value can't be Object except Array");return a},n.mergeScale=function(t,i,n){void 0===n&&(n=!1);var a=null;if(t.id==i.id)if(t instanceof e.OrdinalScale&&i instanceof e.OrdinalScale){var r=_.union(t.domains,i.domains);(n||t.domains.length/r.length>.5&&i.domains.length/r.length>.5)&&(a=t.clone()).domain(r)}else if(t instanceof e.LinearScale&&i instanceof e.LinearScale){var s=Math.min(t.min,i.min),o=Math.max(t.max,i.max),l=Math.abs(o-s)/Math.abs(t.max-t.min),c=Math.abs(o-s)/Math.abs(i.max-i.min);console.log("Linear range rate1 = "+l+" , rate2 = "+c),(n||l<10&&c<10)&&(a=t.clone()).domain([s,o])}else t instanceof e.LogScale&&i instanceof e.LogScale&&t.logBase==i.logBase&&(a=t.clone()).domain([Math.min(t.min,i.min),Math.max(t.max,i.max)]);return a},n.isMixedRotatedRect=function(t,e){var n=!1;if(t.angle==e.angle)for(var a=0,r=t.points;a<r.length;a++){var s=r[a];if(i.IsPointInPolygon(s,e.points)){n=!0;break}}else Math.sqrt(Math.pow(t.center.x-e.center.x,2)+Math.pow(t.center.y-e.center.y,2))<=t.raidius+e.raidius&&(n=!0);return n},n}();e.Utility=n}(t.test||(t.test={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),i=function(){function t(){}return t.nextColor=function(){return t.Color[++t._colorindex%t.Color.length]},t.indexColor=function(e){return t.Color[Math.abs(e)%(t.Color.length-1)]},t.gradientColor=function(e,i,n){var a;0==e.indexOf("rgb")&&(e=t.colorHex(e));var r,s=(a=t.colorRgb(e))[0],o=a[1],l=a[2];0==i.indexOf("rgb")&&(i=t.colorHex(i));for(var c=((r=t.colorRgb(i))[0]-s)/n,h=(r[1]-o)/n,u=(r[2]-l)/n,p=[],_=0;_<n;_++){var f=t.colorHex("rgb("+parseInt(c*_+s)+","+parseInt(h*_+o)+","+parseInt(u*_+l)+")");p.push(f)}return p},t.getColor=function(e,i,n,a,r){var s=t.colorRgb(e),o=s[0],l=s[1],c=s[2],h=t.colorRgb(i),u=(h[0]-o)/(r-a),p=(h[1]-l)/(r-a),_=(h[2]-c)/(r-a);return t.colorHex("rgb("+parseInt(u*n+o)+","+parseInt(p*n+l)+","+parseInt(_*n+c)+")")},t.colorRgb=function(t){if((t=t.toLowerCase())&&/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(t)){if(4===t.length){for(var e="#",i=1;i<4;i+=1)e+=t.slice(i,i+1).concat(t.slice(i,i+1));t=e}var n=[];for(i=1;i<7;i+=2)n.push(parseInt("0x"+t.slice(i,i+2)));return n}return t},t.colorHex=function(t){var e=t;if(/^(rgb|RGB)/.test(e)){for(var i=e.replace(/(?:(|)|rgb|RGB)*/g,"").split(","),n="#",a=0;a<i.length;a++){var r=Number(i[a]).toString(16);"0"===(r=r<10?"0"+r:r)&&(r+=r),n+=r}return 7!==n.length&&(n=e),n}if(!/^#([0-9a-fA-f]{3}|[0-9a-fA-f]{6})$/.test(e))return e;var s=e.replace(/#/,"").split("");if(6===s.length)return e;if(3===s.length){var o="#";for(a=0;a<s.length;a+=1)o+=s[a]+s[a];return o}},t._colorindex=-1,t.Color=["rgb(251, 118, 123)","rgb(129, 227, 238)","#88bde6","#fbb258","#90cd97","#f6aac9","#bfa554","#bc99c7","#eddd46","#f07e6e","#8c8c8c"],t}(),e.ColorUtils=i}(android||(android={})),function(t){!function(e){"use strict";var i=t.graphics.Point,n=function(){function t(t,e,n,a,r){this.angle=r,this.centerx=t,this.centery=e,this.width=n,this.height=a,this.points=[new i,new i,new i,new i,new i,new i,new i,new i,new i];var s=this.points[0],o=this.points[1],l=this.points[2],c=this.points[3],h=this.points[4],u=this.points[5],p=this.points[6],_=this.points[7];_.x=this.centerx+Math.cos(this.angle)*this.width/2,_.y=this.centery+Math.sin(this.angle)*this.width/2,p.x=2*this.centerx-_.x,p.y=2*this.centery-_.y,o.x=_.x+Math.sin(this.angle)*this.height/2,o.y=_.y-Math.cos(this.angle)*this.height/2,l.x=2*_.x-o.x,l.y=2*_.y-o.y,c.x=p.x-Math.sin(this.angle)*this.height/2,c.y=p.y+Math.cos(this.angle)*this.height/2,s.x=2*p.x-c.x,s.y=2*p.y-c.y,u.x=(c.x+l.x)/2,u.y=(c.y+l.y)/2,h.x=(s.x+o.x)/2,h.y=(s.y+o.y)/2;var f=this.points[8];f.x=this.centerx,f.y=this.centery}return Object.defineProperty(t.prototype,"raidius",{get:function(){return Math.sqrt(Math.pow(this.center.x-this.leftTop.x,2)+Math.pow(this.center.y-this.leftTop.y,2))},enumerable:!0,configurable:!0}),t.prototype.offset=function(t,e,i){for(var n=0;n<this.points.length;++n){var a=this.points[n];a.x+=t*Math.cos(i),a.y+=e*Math.sin(i)}},Object.defineProperty(t.prototype,"leftTop",{get:function(){return this.points[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightTop",{get:function(){return this.points[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leftBottom",{get:function(){return this.points[3]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rightBottom",{get:function(){return this.points[2]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerTop",{get:function(){return this.points[4]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"centerBottom",{get:function(){return this.points[5]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"center",{get:function(){return this.points[8]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"startPoint",{get:function(){return new i(this.centerx,this.centery)},enumerable:!0,configurable:!0}),t}();e.RotateRect=n;var a=function(){return function(t,e,n,a,r){this._cx=t,this._cy=e,this._leftwidth=n,this._rightwidth=a,this._angle=r,this.endPoint=new i,this.endPoint.x=t+Math.sin(this._angle)*a,this.endPoint.y=e-Math.cos(this._angle)*a,this.startPoint=new i,this.startPoint.x=t-Math.sin(this._angle)*n,this.startPoint.y=e+Math.cos(this._angle)*n}}();e.RotateLine=a}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict";var e;(e=t.AnimationType||(t.AnimationType={}))[e.Width=0]="Width",e[e.Height=1]="Height",e[e.Size=2]="Size",e[e.Radius=3]="Radius",e[e.Sweep=4]="Sweep",e[e.Alpha=5]="Alpha"}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict";var e;(e=t.Agg||(t.Agg={}))[e.SUM=0]="SUM",e[e.AVERAGE=1]="AVERAGE",e[e.COUNT=2]="COUNT",e[e.NONE=3]="NONE"}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict";var e;(e=t.Order||(t.Order={}))[e.Desc=0]="Desc",e[e.Asc=1]="Asc",e[e.None=2]="None"}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict";var e;(e=t.ScaleType||(t.ScaleType={}))[e.Linear=0]="Linear",e[e.Log=1]="Log",e[e.Ordinal=2]="Ordinal",e[e.LatLon=3]="LatLon"}(t.test||(t.test={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),(i=e.DataType||(e.DataType={}))[i.Number=0]="Number",i[i.String=1]="String",i[i.Object=2]="Object",i[i.Array=3]="Array",i[i.Boolean=4]="Boolean",i[i.Date=5]="Date"}(android||(android={})),function(t){!function(t){"use strict";var e;(e=t.ChartType||(t.ChartType={}))[e.Bar=0]="Bar",e[e.Line=1]="Line",e[e.Scatter=2]="Scatter",e[e.Area=3]="Area",e[e.Pie=4]="Pie",e[e.Sunburst=5]="Sunburst",e[e.TreeMap=6]="TreeMap",e[e.Radar=7]="Radar",e[e.Candlestick=8]="Candlestick"}(t.test||(t.test={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e;(e=t.AxisType||(t.AxisType={}))[e.X=0]="X",e[e.Y=1]="Y"})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(){function t(t,i){this.__val=t,t instanceof Array?this.__isMultiple=!0:this.__isMultiple=!1,this.__scaleType=i,this.__dataType=e.Utility.getType(t)}return Object.defineProperty(t.prototype,"scaleType",{get:function(){return this.__scaleType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this.__dataType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isMultiple",{get:function(){return this.__isMultiple},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.__val},enumerable:!0,configurable:!0}),t}();t.Value=i})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e,i,n,a;e=t.test||(t.test={}),i=e.cartesian||(e.cartesian={}),n=t.graphics.Util,a=function(){function t(t,i,a){void 0===a&&(a=0),this.index=0,this.aggregate=n.asEnum(t.aggregate,e.Agg,!0),null==this.aggregate&&(this.aggregate=e.Agg.NONE);var r=t.field.split(",");null!=r&&r.length>1?this.bind=r:this.bind=t.field,this.type=n.asEnum(t.type,e.ScaleType,!0),null==this.type&&(this.type=e.ScaleType.Ordinal),this.logBase=t.logBase,this.name=i,this.range=t.range,this.band=t.band,null==a||isNaN(a)||(this.index=a)}return Object.defineProperty(t.prototype,"isMultiple",{get:function(){return this.bind instanceof Array},enumerable:!0,configurable:!0}),t.prototype.equals=function(t){return _.isEqual(this,t)},t}(),i.Field=a}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){function t(t,e){if(this.series=t.split(","),null!=e&&e instanceof Array){this.rules=[];for(var n=0,a=e;n<a.length;n++){var r=a[n];this.rules.push(new i(r.field,r.express))}}}return t.prototype.equals=function(t){return _.isEqual(this,t)},t}();t.Filter=e;var i=function(t,e){this.filed=t,this.express=e};t.Rule=i})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e,i,n;e=t.test||(t.test={}),i=e.cartesian||(e.cartesian={}),n=function(t){if(this._stack=!1,this._radial=!1,t.x&&(this.x=new i.Field(t.x,"x")),t.geoposition&&(this.geoposition=new i.Field(t.geoposition,"geoposition")),t.y&&(this.y=new i.Field(t.y,"y")),t.color&&(this.color=new i.Field(t.color,"color")),t.shape&&(this.shape=new i.Field(t.shape,"shape")),t.size&&(this.size=new i.Field(t.size,"size")),t.tooltip&&(this.tooltip=new i.Field(t.tooltip,"tooltip")),t.text&&(this.text=new i.Field(t.text,"text")),t.group&&(this.group=new i.Field(t.group,"group")),t.values&&t.values instanceof Array){this.values=[];for(var e=0;e<t.values.length;++e){var n=t.values[e];this.values.push(new i.Field(n,n.name))}}null!=t.stack&&(this._stack=t.stack),null!=t.radial&&(this._radial=t.radial)},i.Encoding=n}(android||(android={})),function(t){var e;(function(e){"use strict";var i=t.graphics.Util,n=function(){function t(){}return Object.defineProperty(t.prototype,"id",{get:function(){return i.HashCode(i.HashCode(this.x)+i.HashCode(this.group))},enumerable:!0,configurable:!0}),t}();e.Item=n})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){};t.TransForm=e})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.graphics.Util,a=t.Debug,r=function(){function t(t,i,r){for(var s in this.__points=[],this.__chartType=e.ChartType.Bar,this.enable=!0,this.showlabels=!1,a.assert(null!=t),a.assert(null!=i),a.assert(i.data instanceof Array,"Series must be Array"),this.__data=i.data,this.__name=i.name,this.__index=r,this.__chartType=n.asEnum(i.charttype,e.ChartType),this.__encoding=t,this.__pairs=[],this.__encoding)if(e.Utility.iskey(s)){var o=this.__encoding[s],l=this.__createScale(o);this.__pairs.push({filed:o,scale:l})}for(var c=0,h=this.__data;c<h.length;c++){var u=h[c];this.__points.push(this.__analyseItem(this.__pairs,u))}for(var p=0,_=this.__pairs;p<_.length;p++){var f=_[p];o=f.filed,l=f.scale,"x"!=o.name&&"y"!=o.name&&null!=o.range&&o.range.length>0&&(l instanceof e.LinearScale?l.range(o.range):l instanceof e.LogScale?l.range(o.range):l instanceof e.OrdinalScale&&(!0===o.band?l.rangeBounds(o.range):l.range(o.range))),l.refresh()}}return Object.defineProperty(t.prototype,"id",{get:function(){return n.HashCode(this.__name)},enumerable:!0,configurable:!0}),t.prototype.__analyseItem=function(t,n){a.assert(null!=n),a.assert("object"==typeof n);var r=new i.Item;a.assert(!(n instanceof Array)),r.group=new i.Value(this.__name,e.ScaleType.Ordinal);for(var s=0,o=t;s<o.length;s++){var l=o[s],c=l.filed,h=l.scale,u=null;if(u=c.bind instanceof Array?new i.Value([n[c.bind[0]],n[c.bind[1]]],c.type):new i.Value(n[c.bind],c.type),r[c.name]=u,"string"==typeof c.bind)if(h instanceof e.LinearScale){var p=e.Utility.max([n[c.bind],h.max]),_=e.Utility.min([n[c.bind],h.min]);h.domain([_,p])}else h instanceof e.LogScale?(p=e.Utility.max([n[c.bind],h.max]),_=e.Utility.min([n[c.bind],h.min]),h.domain([_,p])):h instanceof e.OrdinalScale&&h.domains.push(n[c.bind]);else c.isMultiple&&h instanceof e.map.MapOrdinalScale&&h.domains.push(u.value)}return r},t.prototype._refresh=function(){for(var t=0,i=this.__pairs;t<i.length;t++)(l=i[t]).scale.domain([]);for(var n=0,a=this.__points;n<a.length;n++)for(var r=a[n],s=0,o=this.__pairs;s<o.length;s++){var l,c=(l=o[s]).filed,h=l.scale;if(h instanceof e.LinearScale){var u=r[c.name],p=e.Utility.max(u.isMultiple?u.value.concat([h.max]):[u.value,h.max]),_=e.Utility.min(u.isMultiple?u.value.concat([h.min]):[u.value,h.min]);h.domain([_,p])}else if(h instanceof e.LogScale)u=r[c.name],p=e.Utility.max(u.isMultiple?u.value.concat([h.max]):[u.value,h.max]),_=e.Utility.min(u.isMultiple?u.value.concat([h.min]):[u.value,h.min]),h.domain([_,p]);else if(h instanceof e.OrdinalScale)if((u=r[c.name]).isMultiple)for(var f=0,d=u.value;f<d.length;f++){var y=d[f];h.domains.push(y)}else h.domains.push(u.value);else if(h instanceof e.map.MapOrdinalScale)if((u=r[c.name]).isMultiple)for(var g=0,m=u.value;g<m.length;g++)y=m[g],h.domains.push(y);else h.domains.push(u.value)}},t.prototype.__createScale=function(t){a.assert(null!=t);var i=null;switch(t.type){case e.ScaleType.Linear:i=new e.LinearScale(t.name);break;case e.ScaleType.Ordinal:i=new e.OrdinalScale(t.name);break;case e.ScaleType.Log:i=new e.LogScale(t.logBase,t.name);break;case e.ScaleType.LatLon:i=new e.map.MapOrdinalScale(t.name);break;default:a.assert(!1,t.type+" ScaleType has not been implement!")}return i},Object.defineProperty(t.prototype,"data",{get:function(){return this.__data},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.__name},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalePairs",{get:function(){return this.__pairs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"points",{get:function(){return this.__points},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.__points.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartType",{get:function(){return this.__chartType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.__index},enumerable:!0,configurable:!0}),t.prototype.getScale=function(t){var e=_.findIndex(this.__pairs,function(e){return e.filed.name==t});return e>=0?this.__pairs[e].scale:null},t.prototype.clone=function(){return _.cloneDeep(this)},t}();i.Series=r})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(){function i(t){this.__chartTypes=[],this.__data=t,this.__encoding=this._analyseEncoding(this.__data.encoding),this._analyseFilter(t.filter),this.refresh()}return i.prototype._analyseEncoding=function(e){return new t.Encoding(e)},Object.defineProperty(i.prototype,"chartTypes",{get:function(){return this.__chartTypes},enumerable:!0,configurable:!0}),i.prototype._analyseSeries=function(e,i){this.__series=[],this.__allSeries=[];for(var n=0;n<e.length;++n){var a=e[n],r=new t.Series(i,a,n);null!=this.__filter&&this.__filter.series.indexOf(a.name)>-1?(r.enable=!0,this.__series.push(r),this.__chartTypes.indexOf(r.chartType)<0&&this.__chartTypes.push(r.chartType)):r.enable=!1,this.__allSeries.push(r)}},i.prototype.refresh=function(){this._analyseSeries(this.__data.series,this.__encoding),this._createLayoutScales(this.encoding)},i.prototype._analyseFilter=function(e){null!=e&&(this.__filter=new t.Filter(e.series,e.rules))},i.prototype._createLayoutScales=function(t){if(this.__scalePairs=[],this.__series.length>1){this._stack(e.ChartType.Bar),this._stack(e.ChartType.Line),this._stack(e.ChartType.Area),this._stack(e.ChartType.Scatter);for(var i=0;i<this.__series.length-1;++i)for(var n=this.__series[i],a=this.__series[i+1],r=0,s=n.scalePairs;r<s.length;r++)for(var o=s[r],l=0,c=a.scalePairs;l<c.length;l++){var h=c[l];if(o.filed.equals(h.filed)){var u=o.filed,p=this.encoding._stack&&"y"==o.filed.name,_=this.__getScaleInfobyname(o.filed.name,n.name),f=this.__getScaleInfobyname(h.filed.name,a.name);null==_&&null==f?null!=(b=e.Utility.mergeScale(o.scale,h.scale,p))?this.__scalePairs.push({series:[n.name,a.name],filed:u,scale:b}):(this.__scalePairs.push({series:[n.name],filed:o.filed,scale:o.scale}),this.__scalePairs.push({series:[a.name],filed:h.filed,scale:h.scale})):null==_&&null!=f?null!=(b=e.Utility.mergeScale(o.scale,f.scale,p))?(f.scale=b,f.series.push(n.name)):this.__scalePairs.push({series:[n.name],filed:o.filed,scale:o.scale}):null!=_&&null==f&&(null!=(b=e.Utility.mergeScale(h.scale,_.scale,p))?(_.scale=b,_.series.push(a.name)):this.__scalePairs.push({series:[a.name],filed:h.filed,scale:h.scale}))}}for(var d=0,y=this.__series;d<y.length;d++)for(var g=y[d],m=0,v=g.scalePairs;m<v.length;m++){var b,w=v[m];null!=(b=this._getScaleByName(w.filed.name,g.name))&&(w.scale=b)}}else if(1==this.__series.length)for(var S=0,x=this.__series[0].scalePairs;S<x.length;S++)w=x[S],this.__scalePairs.push({series:[this.__series[0].name],filed:w.filed,scale:w.scale.clone()})},i.prototype._stack=function(t){if(this.encoding._stack)for(var e={},i={},n=0;n<this.series.length;++n){var a=this.series[n];a.chartType===t&&this._setSeriesStack(a,i,e)}},i.prototype.__getScaleInfobyname=function(t,e){return _.find(this.__scalePairs,function(i){return i.series.indexOf(e)>=0&&t==i.filed.name})},i.prototype._getScaleByName=function(t,e){return _.result(_.find(this.__scalePairs,function(i){return i.series.indexOf(e)>=0&&t==i.filed.name}),"scale")},i.prototype._setSeriesStack=function(i,n,a){if(i.getScale("x")instanceof e.OrdinalScale)for(var r=0,s=i.points;r<s.length;r++){var o=s[r],l=a[o.x.value],c=n[o.x.value];null==l&&(l=0,a[o.x.value]=0),null==c&&(c=0,n[o.x.value]=0);var h=o.y.value<0,u=h?l:c,p=u+o.y.value;h?a[o.x.value]=p:n[o.x.value]=p,o.y=new t.Value([u,p],o.y.scaleType)}i._refresh()},i.prototype.getSeriesByType=function(t){return _.filter(this.__series,function(e){return e.chartType===t})},Object.defineProperty(i.prototype,"series",{get:function(){return this.__series},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"allSeries",{get:function(){return this.__allSeries},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"encoding",{get:function(){return this.__encoding},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"filter",{get:function(){return this.__filter},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),i}();t.DataModel=i})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(){function t(t,i){if(this.__val=t,this.__scaleType=i,this.__dataType=e.Utility.getType(t),null==this.__scaleType)switch(this.__dataType){case e.DataType.Number:case e.DataType.Date:this.__scaleType=e.ScaleType.Linear;break;case e.DataType.String:case e.DataType.Boolean:default:this.__scaleType=e.ScaleType.Ordinal}}return Object.defineProperty(t.prototype,"scaleType",{get:function(){return this.__scaleType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dataType",{get:function(){return this.__dataType},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this.__val},enumerable:!0,configurable:!0}),t}();t.Value=i})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){var e,i,n,a;e=t.test||(t.test={}),i=e.hierarchical||(e.hierarchical={}),n=t.graphics.Util,a=function(){function t(t,i){this.aggregate=n.asEnum(t.aggregate,e.Agg,!0),null==this.aggregate&&(this.aggregate=e.Agg.NONE),this.bind=t.field,this.name=i,this.range=t.range,this.band=t.band,this.type=n.asEnum(t.type,e.ScaleType,!0)}return t.prototype.equals=function(t){return _.isEqual(this,t)},t}(),i.Field=a}(android||(android={})),function(t){var e;(function(e){"use strict";var i=t.graphics.Util,n=function(){function t(){this._hidden=!1}return Object.defineProperty(t.prototype,"id",{get:function(){return i.HashCode(i.HashCode(this.size)+i.HashCode(this.color)+i.HashCode(this.text)+i.HashCode(this.depth)+i.HashCode(this.count))},enumerable:!0,configurable:!0}),t}();e.Item=n})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(e){null!=e.color&&(this.color=new t.Field(e.color,"color")),null!=e.size&&(this.size=new t.Field(e.size,"size")),null!=e.tooltip&&(this.tooltip=new t.Field(e.tooltip,"tooltip")),null!=e.text&&(this.text=new t.Field(e.text,"text")),null!=e.children&&(this.children=new t.Field(e.children,"children"))};t.Encoding=e})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.graphics.Util,a=t.Debug,r=function(){function t(i){t.id=0,this.__data=i,this.__chartType=n.asEnum(i.charttype,e.ChartType),this.__encoding=this._analyseEncoding(this.__data.encoding),this.__createRoot()}return t.prototype._analyseEncoding=function(t){return new i.Encoding(t)},Object.defineProperty(t.prototype,"chartType",{get:function(){return this.__chartType},enumerable:!0,configurable:!0}),t.prototype.__createModel=function(t,e){var n=new i.Item;for(var a in this.__encoding)if("children"===a){null==n.children&&(n.children=[]);var r=t[this.__encoding.children.bind];if(null!=r&&r instanceof Array)for(var s=0,o=r;s<o.length;s++){var l=o[s];n.children.push(this.__createModel(l,e+1))}}else"count"===this.__encoding[a].bind||"depth"===this.__encoding[a].bind?this.__encoding[a].bind in t?n[a]=new i.Value(t[this.__encoding[a].bind],null):"count"==this.__encoding[a].bind?n[a]=new i.Value(null!=t.children?t.children.length:1,null):"depth"==this.__encoding[a].bind&&(n.depth=new i.Value(e,null)):n[a]=new i.Value(t[this.__encoding[a].bind],null);return n},t.prototype.__createRoot=function(){this.__root=[];for(var t=0,e=this.__data.values;t<e.length;t++){var i=e[t];this.__root.push(this.__createModel(i,0))}},t.prototype.refresh=function(){},t.prototype.__createScale=function(t){a.assert(null!=t);var i=null;switch(t.type){case e.ScaleType.Linear:i=new e.LinearScale(t.name);break;case e.ScaleType.Ordinal:i=new e.OrdinalScale(t.name);break;default:a.assert(!1,t.type+" ScaleType has not been implement!")}return i},Object.defineProperty(t.prototype,"root",{get:function(){return this.__root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encoding",{get:function(){return this.__encoding},enumerable:!0,configurable:!0}),t.id=0,t}();i.DataModel=r})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),i=function(){function t(t){this.__bound=!1,this.__domains=[],this.__ranges=[],this.id=t,this._order=e.Order.None}return Object.defineProperty(t.prototype,"id",{get:function(){return this.__id},set:function(t){this.__id=t},enumerable:!0,configurable:!0}),t.prototype.domain=function(t){return this.__domains=t,this},t.prototype.range=function(t){return this.__ranges=t,this.refresh()},t.prototype.rangeBounds=function(t){return this},t.prototype.refresh=function(){return this},t.prototype.getScaleValue=function(t){return 0},Object.defineProperty(t.prototype,"startPosition",{get:function(){return this.__start},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"endPosition",{get:function(){return this.__end},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"order",{get:function(){return this._order},set:function(t){this._order=t},enumerable:!0,configurable:!0}),t.prototype.equal=function(t){return null!=t&&this.id==t.id},t.prototype.clone=function(){return _.cloneDeep(this)},t}(),e.Scale=i}(android||(android={})),function(t){!function(t){"use strict";var e=function(e){function i(t){return e.call(this,t)||this}return __extends(i,e),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),i.prototype.domain=function(t){return e.prototype.domain.call(this,t),this._min=this.__domains[0],this._max=this.__domains[1],this},i.prototype.refresh=function(){return this.order===t.Order.Asc?(this.__start=this.__ranges[0],this.__end=this.__ranges[1]):this.order===t.Order.Desc?(this.__start=this.__ranges[1],this.__end=this.__ranges[0]):(this.__start=this.__ranges[0],this.__end=this.__ranges[1]),this._min=this.__domains[0],this._max=this.__domains[1],this},i.prototype.range=function(t){return this.__ranges=t,this.refresh(),this},i.prototype.getScaleValue=function(t){return this._max==this._min?(this.__end-this.__start)/2+this.__start:(this.__end-this.__start)/(this._max-this._min)*(t-this._min)+this.__start},i.prototype.equal=function(t){return null!=t&&(t.id==this.id&&t.max==this.max&&t.min==this.min)},i}(t.Scale);t.LinearScale=e}(t.test||(t.test={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),i=function(i){function n(t){var e=i.call(this,t)||this;return e._domainCache={},e._size=0,e}return __extends(n,i),n.prototype.refresh=function(){this.order===e.Order.Asc?this.__domains.sort(function(t,e){return t-e}):this.order===e.Order.Desc&&this.__domains.sort(function(t,e){return e-t}),this._domainCache={};for(var i=0,n=0,a=this.__domains;n<a.length;n++){var r=a[n];null==this._domainCache[r]&&(this._domainCache[r]=i,i++)}return this._size=i,t.Debug.assert(null!=this.__ranges,""),2==this.__ranges.length&&(this.__start=this.__ranges[0],this.__end=this.__ranges[1]),this},Object.defineProperty(n.prototype,"max",{get:function(){return this._size},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"min",{get:function(){return 0},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"domains",{get:function(){return this.__domains},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ranges",{get:function(){return this.__ranges},enumerable:!0,configurable:!0}),n.prototype.range=function(t){return this.__ranges=t,this.__bound=!1,this.refresh(),this},n.prototype.rangeBounds=function(t){return this.__ranges=t,this.__bound=!0,this.refresh(),this},n.prototype.domain=function(t){return this.__domains=t,this},n.prototype.getScaleValue=function(t){var e=this._domainCache[t];isNaN(e)&&(e=0);var i=0,n=this._size;return n<2&&(n=2),"number"==typeof this.__end&&"number"==typeof this.__start&&(i=this.__bound?(e+.5)*(this.__end-this.__start)/n+this.__start:e*(this.__end-this.__start)/(n-1)+this.__start),i},n}(e.Scale),e.OrdinalScale=i}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),i=function(t){function i(e,i){var n=t.call(this,i)||this;return n._ticksize=6,n._logBase=e,n}return __extends(i,t),i.prototype.domain=function(e){return t.prototype.domain.call(this,e),this._min=this.__domains[0],this._max=this.__domains[1],this},Object.defineProperty(i.prototype,"logBase",{get:function(){return this._logBase},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"tickSize",{set:function(t){this._ticksize=t},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"max",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"min",{get:function(){return this._min},enumerable:!0,configurable:!0}),i.prototype.refresh=function(){if(this.order===e.Order.Asc?(this.__start=this.__ranges[0],this.__end=this.__ranges[1]):this.order===e.Order.Desc?(this.__start=this.__ranges[1],this.__end=this.__ranges[0]):(this.__start=this.__ranges[0],this.__end=this.__ranges[1]),this._min=this.__domains[0],this._max=this.__domains[1],this._logBase>0){var t=this._logBase,i=Math.log(t),n=Math.ceil(Math.log(this._max)/i);this._max=Math.pow(t,n);var a=Math.floor(Math.log(this._min)/i);this._min=Math.pow(t,a),(this._min<=0||isNaN(this._min))&&(this._min=1),this._max<this._min&&(this._max=this._min+1)}return this},i.prototype.range=function(t){return this.__ranges=t,this.refresh(),this},Object.defineProperty(i.prototype,"ticks",{get:function(){for(var t=new Array(this._ticksize),e=0;e<=this._ticksize;++e)t[e]=e*this._niceTick;return t},enumerable:!0,configurable:!0}),i.prototype.getScaleValue=function(t){t<this._min&&(t=this._min);var e=Math.log(this._max/this._min);return Math.log(t/this._min)/e*(this.__end-this.__start)+this.__start},i}(e.Scale),e.LogScale=i}(android||(android={})),function(t){!function(t){"use strict";var e;(e=t.ElementType||(t.ElementType={}))[e.Shape=0]="Shape",e[e.Series=1]="Series",e[e.Axis=2]="Axis",e[e.SeriesLegend=3]="SeriesLegend",e[e.ScaleLegend=4]="ScaleLegend"}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict"}(t.test||(t.test={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.view.View,a=t.graphics.Rect,r=t.graphics.Style,s=t.device.Default,o=t.graphics.LinearGradient,l=t.graphics.FillStyle,c=function(t){function i(e,i){var n=t.call(this,e)||this;return n.__type=null,n.__type=i,n}return __extends(i,t),Object.defineProperty(i.prototype,"scale",{get:function(){return this.__scale},set:function(t){this.__scale=t},enumerable:!0,configurable:!0}),i.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},i.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},i.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e),"value"==this.__type||"color"==this.__type&&this._drawColorScale(e)},i.prototype._drawColorScale=function(t){var i=this.__scale;if(i instanceof e.OrdinalScale)for(var n=null,c=(n=null==i.startPosition||null==i.endPosition?i.ranges:e.ColorUtils.gradientColor(i.startPosition,i.endPosition,i.domains.length)).length,h=this.layoutInfo.innerrect.width/c,u=this.layoutInfo.innerrect.left,p=this.layoutInfo.innerrect.top,_=this.layoutInfo.innerrect.height,f=s.style,d=0,y=n;d<y.length;d++){var g=y[d],m=new a(u,p,u+h,p+_);f.background=g,t.drawRect(m.startPoint,m.endPoint,!0,f),u+=h}else if(i instanceof e.LinearScale){var v=this.layoutInfo.innerrect.left+this.layoutInfo.innerrect.width/2,b=this.layoutInfo.innerrect.top,w=b,S=this.layoutInfo.innerrect.bottom,x=new o(v,b,w,S,[{offset:0,color:i.startPosition},{offset:1,color:i.endPosition}]),P=new l;P.fill=x,f=new r(P,null),t.drawRect(this.layoutInfo.innerrect.startPoint,this.layoutInfo.innerrect.endPoint,!0,f)}},i}(n);i.ScaleLegend=c})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.view.View,a=t.widget.LinearLayout,r=t.view.MeasureSpec,s=t.graphics.Size,o=t.graphics.Rect,l=t.device.Default,c=t.view.LayoutParams,h=t.view.event.MotionEvent,u=t.util.Message,p=function(t){function i(e,i){var n=t.call(this,e)||this;return n.__shape=i,n}return __extends(i,t),Object.defineProperty(i.prototype,"series",{get:function(){return this._series},set:function(t){this._series=t,this.__loadItems()},enumerable:!0,configurable:!0}),i.prototype.__loadItems=function(){this.removeAllViews();for(var t=0;t<this.series.length;++t){var i=new _(this.getContext());i.series=this.series[t],"bar"==this.__shape?i.icon=new d:"scatter"==this.__shape&&(i.icon=new y),i.series.enable?i.icon.color=e.ColorUtils.indexColor(t):i.icon.color="gray",this.children.push(i)}},i}(a);i.SeriesLegend=p;var _=function(t){function n(e){var i=t.call(this,e)||this;return i.font=l.font,i.font.fontColor="black",i}return __extends(n,t),n.prototype.onMeasure=function(t,e,i){t.getMeasureValue(),e.getMeasureValue();var n=new s(0,0);n=i.measureString(this.series.name,this.font),this.__fontRect=new o(0,0,n.width,n.height);var a=2*n.height;return this.__iconRect=new o(0,0,a,n.height),n.width=n.width+15+a,this.setMeasuredDimension(new r(n.width,c.EXACTLY),new r(n.height,c.EXACTLY)),n},n.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r),this.__fontRect.translate(e,i),this.__iconRect.translate(e+5+this.__fontRect.width,i)},n.prototype.onDraw=function(t){t.drawText(this.series.name,this.__fontRect.startPoint,this.font),this.icon.draw(this.__iconRect,t)},n.prototype.onMouseEvent=function(t){var n=this.getContext().getArgs(i.EventMessage);switch(t.action){case h.ACTION_CLICK:console.log("event ");var a=new u;a.args.types=e.ElementType.SeriesLegend,a.args.info={series:this.series.name,enable:this.series.enable,action:"enableseries"},n.sendMessage(a);break;case h.ACTION_MOUSE_ON:this.series.showlabels=!0;break;case h.ACTION_MOUSE_OUT:this.series.showlabels=!1}return!1},n}(n);i.LegendItem=_;var f=function(){};i.Icon=f;var d=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.draw=function(t,e){var i=l.style;i.background=this.color,e.drawRect(t.startPoint,t.endPoint,!0,i)},e}(f);i.BarIcon=d;var y=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.draw=function(t,e){var i=l.style;i.background=this.color,e.drawArc(t,0,360,i)},e}(f);i.CircleIcon=y})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){!function(e){"use strict";var i=function(t){function e(i){var n=t.call(this,i)||this;return n.priority=e.PRIORITY,n}return __extends(e,t),Object.defineProperty(e.prototype,"style",{get:function(){return this._style},set:function(t){this._style=t},enumerable:!0,configurable:!0}),e.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e),this.comparedAnimationEmpty?this.onDrawShape(e):this._drawAnimation(e)},e.prototype._drawAnimation=function(t){t.drawPolygon(this.animationXs,this.animationYs,this.style)},e.prototype.onMouseEvent=function(t){return!0},e.PRIORITY=1e4,e}(t.ComparedView);e.Shape=i}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict";var e=function(e){function i(i,n,a,r,s,o,l,c){var h=e.call(this,i)||this;h.__padding=0,h.priority=10*t.Shape.PRIORITY,h.__padding=c,h.text=n,h.labelrect=new t.RotateRect(a,r,s+2*c,o+2*c,null==l||isNaN(l)?0:l),h._xs=[],h._ys=[];for(var u=0;u<4&&u<h.labelrect.points.length;++u)h._xs[u]=h.labelrect.points[u].x,h._ys[u]=h.labelrect.points[u].y;return h}return __extends(i,e),i.prototype.getpts=function(t){return{xs:this._xs,ys:this._ys}},i.prototype.onDrawShape=function(t){t.drawPolygon(this._xs,this._ys,this.background);var e=this.labelrect.leftTop.clone();e.offset(this.__padding,this.__padding),t.drawText(this.text,e,this._font)},i.prototype.refresh=function(){},i}(t.Shape);t.Label=e}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict";var e=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(t){null!=t&&t!=this._label&&(this._label=t)},enumerable:!0,configurable:!0}),e.prototype.refresh=function(){},e}(t.Shape);t.PlotShape=e}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=t.view.event.MotionEvent,r=function(t){function n(e,a,r,s,o,l,c){var h=t.call(this,e)||this,u=r,p=a,_=o,f=s;return _<0&&(u+=_,_=Math.abs(_)),h.priority=++n.BarPrority,h.layoutInfo.reset(p,u,p+f,u+_,h.padding,0),h._oldLayoutInfo=h.layoutInfo.clone(),h._style=l,null==l&&(h._style=i.style),h._strokeStyle=c,null==c&&(h._strokeStyle=i.strokestyle),h}return __extends(n,t),n.prototype.onDrawShape=function(t){window.renderTimes++,t.drawRect(this.layoutInfo.innerrect.startPoint,this.layoutInfo.innerrect.endPoint,!0,this._style)},n.prototype.onMouseEvent=function(t){switch(t.action){case a.ACTION_MOUSE_ON:var e=new o(this.layoutInfo.innerrect);e.duration=400,e.from=1,e.to=1.3,e.fillAfter=!0,e.id="mouseOn Animation ",this.startAnimation(e);break;case a.ACTION_MOUSE_OUT:var i=new o(this.layoutInfo.innerrect);i.duration=200,i.from=1.3,i.to=1,i.id="mouseOut Animation ",i.fillAfter=!1,this.startAnimation(i);break;case a.ACTION_MOUSE_MOVE:case a.ACTION_MOUSE_OUT:}return!0},n.BarPrority=2*e.Shape.PRIORITY,n}(e.PlotShape);e.BarShape=r;var s=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof r){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.top=this.rect.top+this.rect.height-this.rect.height*n,i.layoutInfo.innerrect.height=this.rect.height*n}},i.prototype.onStartAniamtion=function(t,e){this.rect=e.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,e){},i}(n);e.BarAnimation=s;var o=function(e){function i(i){var n=e.call(this)||this;return n.id="",n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof r){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.left=this.rect.left+(this.rect.width-this.rect.width*n)/2,i.layoutInfo.innerrect.width=this.rect.width*n}},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i),this.rect=i.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i)},i}(n);e.BarWidthAnimation=o}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=t.view.event.MotionEvent,r=t.Debug,s=function(t){function n(e,a,r,s,o,l,c){var h=t.call(this,e)||this;h.__oldColor=null;var u=r,p=a,_=o,f=s;return _<0&&(u+=_,_=Math.abs(_)),h.priority=++n.CubePrority,h.layoutInfo.reset(p,u,p+f,u+_,h.padding,0),h._oldLayoutInfo=h.layoutInfo.clone(),h._style=l,null==l&&(h._style=i.style),h._strokeStyle=c,null==c&&(h._strokeStyle=i.strokestyle),h.background=null,h}return __extends(n,t),n.prototype.onDrawShape=function(t){window.renderTimes++,t.drawRect(this.layoutInfo.innerrect.startPoint,this.layoutInfo.innerrect.endPoint,!0,this._style),(null==this.animation||this.animation.isAniamtionEnd)&&t.drawText(this.text,this.layoutInfo.innerrect.startPoint,i.font)},n.prototype.invalidate=function(e){t.prototype.invalidate.call(this,e),r.logstack("cubeinvalidate  "+(null==window.cubeinvalidate?window.cubeinvalidate=0:window.cubeinvalidate++))},n.prototype.onMouseEvent=function(t){switch(t.action){case a.ACTION_MOUSE_ON:if("string"==typeof this.style.background){null==this.__oldColor&&(this.__oldColor=this.style.background);var i=e.ColorUtils.gradientColor(this.__oldColor,"#ffffff",3);this.style.background=i[1]}console.log("mouse on "),this.invalidate(!0);break;case a.ACTION_MOUSE_OUT:this.style.background=this.__oldColor,this.invalidate(!0),console.log("mouse out ");break;case a.ACTION_MOUSE_MOVE:break;case a.ACTION_CLICK:console.log("click "),null!=this.scaleCallBack&&this.scaleCallBack(this.layoutInfo.innerrect)}return!0},n.prototype.getComparedAnimation=function(t){var e=new o(t.layoutInfo.innerrect.clone(),this.layoutInfo.innerrect.clone());return e.duration=500,e.fillAfter=!0,e.from=0,e.to=1,e},n.CubePrority=1*e.Shape.PRIORITY,n}(e.PlotShape);e.CubeShape=s;var o=function(e){function i(i,n){var a=e.call(this)||this;return a.ease=new t.view.animation.AnimationEase,a.fromrect=i,a.torect=n,a}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){var n=this.from+(this.to-this.from)*t;i.layoutInfo.innerrect.left=this.fromrect.left+(this.torect.left-this.fromrect.left)*n,i.layoutInfo.innerrect.top=this.fromrect.top+(this.torect.top-this.fromrect.top)*n,i.layoutInfo.innerrect.width=this.fromrect.width+(this.torect.width-this.fromrect.width)*n,i.layoutInfo.innerrect.height=this.fromrect.height+(this.torect.height-this.fromrect.height)*n},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i)},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i),i.layoutInfo.innerrect=i._oldLayoutInfo.innerrect.clone()},i}(n),l=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof s){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.left=this.rect.left+(this.rect.width-this.rect.width*n)/2,i.layoutInfo.innerrect.width=this.rect.width*n,i.layoutInfo.innerrect.top=this.rect.top+(this.rect.height-this.rect.height*n)/2,i.layoutInfo.innerrect.height=this.rect.height*n}},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i),this.rect=i.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i)},i}(n);e.CubeAnimation=l}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.graphics.Point,a=t.graphics.Util,r=function(t){function e(e,n,a,r,s,o,l,c,h){var u=t.call(this,e)||this;return u.layoutInfo.reset(n-s,a-s,n+s,a+s,u.padding,0),u._oldLayoutInfo=u.layoutInfo.clone(),u._cx=n,u._cy=a,u._innerRadius=r,u._radius=s,u._startAngle=o,u._sweep=l,u._style=c,null==c&&(u._style=i.style),u._strokeStyle=h,null==h&&(u._strokeStyle=i.strokestyle),u._sweep<0&&(u._startAngle=u._startAngle+u._sweep,u._sweep=-1*u._sweep),u}return __extends(e,t),e.prototype.getpts=function(t){return null==this._pts&&(this._pts=a.createPtsFromRadialBar(this._startAngle,this._startAngle+this._sweep,this._radius,this._innerRadius,new n(this._cx,this._cy),this.ptcount)),this._pts},e.prototype.onDrawShape=function(t){t.drawDonut(this._cx,this._cy,this._radius,this._innerRadius,this._startAngle,this._sweep,this._style)},e}(e.PlotShape);e.RadialBarShape=r}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=function(t){function e(e,n,a,r,s,o,l,c,h){var u=t.call(this,e)||this;return u.layoutInfo.reset(n-s,a-s,n+s,a+s,u.padding,0),u._oldLayoutInfo=u.layoutInfo.clone(),u._cx=n,u._cy=a,u._innerRadius=r,u._radius=s,u._startAngle=o,u._sweep=l,u._style=c,null==c&&(u._style=i.style),u._strokeStyle=h,null==h&&(u._strokeStyle=i.strokestyle),u._sweep<0&&(u._startAngle=u._startAngle+u._sweep,u._sweep=-1*u._sweep),u}return __extends(e,t),e.prototype.onDrawShape=function(t){t.drawDonut(this._cx,this._cy,this._radius,this._innerRadius,this._startAngle,this._sweep,this._style)},e}(e.PlotShape);e.SunburstShape=a;var r=function(i){function n(){var e=i.call(this)||this;return e.ease=new t.view.animation.BounceAnimationEase,e}return __extends(n,i),n.prototype.applyTransformation=function(t,i,n){if(n instanceof a||n instanceof e.RadialBarShape){var r=this.from+(this.to-this.from)*t;n._radius=r*this._radius}},n.prototype.onStartAniamtion=function(t,n){i.prototype.onStartAniamtion.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(this._radius=n._radius,this._sweep=n._sweep)},n.prototype.onEndAnimation=function(t,n){i.prototype.onEndAnimation.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(n._radius=this._radius,n._sweep=this._sweep)},n}(n);e.RadiusAnimation=r;var s=function(i){function n(){var e=i.call(this)||this;return e.ease=new t.view.animation.BounceAnimationEase,e}return __extends(n,i),n.prototype.applyTransformation=function(t,i,n){if(n instanceof a||n instanceof e.RadialBarShape){var r=this.from+(this.to-this.from)*t;n._sweep=r*this._sweep}},n.prototype.onStartAniamtion=function(t,n){i.prototype.onStartAniamtion.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(this._radius=n._radius,this._sweep=n._sweep)},n.prototype.onEndAnimation=function(t,n){i.prototype.onEndAnimation.call(this,t,n),(n instanceof a||n instanceof e.RadialBarShape)&&(n._radius=this._radius,n._sweep=this._sweep)},n}(n);e.SweepAnimation=s}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.event.MotionEvent,a=t.view.animation.Animation,r=t.graphics.Util,s=function(t){function a(e,n,r,s,o,l,c){var h=t.call(this,e)||this,u=r,p=n,_=o,f=s;return _<0&&(u+=_,_=Math.abs(_)),h.layoutInfo.reset(p,u,p+f,u+_,h.padding,0),h._oldLayoutInfo=h.layoutInfo.clone(),h._style=l,null==l&&(h._style=i.style),h._strokeStyle=c,null==c&&(h._strokeStyle=i.strokestyle),h.priority=++a.ScatterPrority,h}return __extends(a,t),a.prototype.onDrawShape=function(t){t.drawArc(this.layoutInfo.innerrect,0,360,this.style)},a.prototype.getpts=function(t){if(null==this._pts){this.layoutInfo.innerrect.width<this.layoutInfo.innerrect.height?this.layoutInfo.innerrect.width:this.layoutInfo.innerrect.height;var e=this.layoutInfo.innerrect.center;this._pts=r.createPtsFromCircle(this.layoutInfo.innerrect.width/2,e,this.ptcount)}return this._pts},a.prototype.onMouseEvent=function(t){switch(console.log("shape ==== "+t.toString()),t.action){case n.ACTION_MOUSE_ON:var e=new o(this.layoutInfo.innerrect);e.duration=400,e.from=1,e.to=1.2,e.fillAfter=!0,this.startAnimation(e);break;case n.ACTION_MOUSE_OUT:var i=new o(this.layoutInfo.innerrect);i.duration=200,i.from=1.2,i.to=1,i.fillAfter=!1,this.startAnimation(i);break;case n.ACTION_MOUSE_MOVE:case n.ACTION_MOUSE_OUT:}return!0},a.ScatterPrority=3*e.Shape.PRIORITY,a}(e.PlotShape);e.ScatterShape=s;var o=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.BounceAnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){var n=this.from+(this.to-this.from)*t;this.rect.clone();n-=1,i.layoutInfo.innerrect.left=this.rect.left-n*i.layoutInfo.innerrect.width/2,i.layoutInfo.innerrect.top=this.rect.top-n*i.layoutInfo.innerrect.height/2,i.layoutInfo.innerrect.width=this.rect.width+n*i.layoutInfo.innerrect.width,i.layoutInfo.innerrect.height=this.rect.height+n*i.layoutInfo.innerrect.height},i.prototype.onStartAniamtion=function(t,e){this.rect=e.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,e){},i}(a);e.ScatterAnimation=o}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.graphics.Util,a=function(t){function a(n,r,s,o,l){var c=t.call(this,n)||this;c.priority=++a.LinesPrority,c.__xs=r,c.__ys=s;var h=e.Utility.min(r),u=e.Utility.min(s),p=e.Utility.max(r),_=e.Utility.max(s);return c.layoutInfo.reset(h,u,p,_,c.padding,0),c._oldLayoutInfo=c.layoutInfo.clone(),c._style=o,null==o&&(c._style=i.style),c._strokeStyle=l,null==l&&(c._strokeStyle=i.strokestyle),c}return __extends(a,t),Object.defineProperty(a.prototype,"strokeStyle",{get:function(){return this._strokeStyle},set:function(t){this._strokeStyle=t},enumerable:!0,configurable:!0}),a.prototype.getpts=function(t){return null==this._pts&&(this._pts={xs:this.__xs,ys:this.__ys}),this._pts},a.prototype.trace=function(t,e){if(this.layoutInfo.outterrect.contains(t,e))for(var i=0;i<Math.min(this.__xs.length,this.__ys.length);++i)if(n.Point2Line(this.__xs[i],this.__ys[i],this.__xs[i+1],this.__ys[i+1],t,e)<10)return!0;return!1},a.prototype.onMouseEvent=function(e){return t.prototype.onMouseEvent.call(this,e)},a.prototype.onDrawShape=function(t){t.save(),t.clip(this.layoutInfo.innerrect),t.drawLines(this.__xs,this.__ys,this._strokeStyle),t.restore()},a.prototype._drawAnimation=function(t){console.log("drawAnimation "),t.drawLines(this.animationXs,this.animationYs,this._strokeStyle)},a.LinesPrority=4*e.PlotShape.PRIORITY,a}(e.PlotShape);e.LinesShape=a}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=t.view.event.MotionEvent,r=t.graphics.Point,s=t.graphics.Util,o=function(t){function n(n,a,r,s,o){var l=t.call(this,n)||this;l.priority=e.Shape.PRIORITY+1,l.__xs=a,l.__ys=r,l._style=s;var c=Math.min.apply(Math,a),h=Math.min.apply(Math,r),u=Math.max.apply(Math,a),p=Math.max.apply(Math,r);return l.layoutInfo.reset(c,h,u,p,l.padding,0),l._oldLayoutInfo=l.layoutInfo.clone(),null==s&&(l._style=i.style),l._strokeStyle=o,null==o&&(l._strokeStyle=i.strokestyle),l}return __extends(n,t),Object.defineProperty(n.prototype,"strokeStyle",{get:function(){return this._strokeStyle},set:function(t){this._strokeStyle=t},enumerable:!0,configurable:!0}),n.prototype.trace=function(t,e){return s.IsPointInPolygon2(new r(t,e),this.__xs,this.__ys)},n.prototype.onDrawShape=function(t){t.save(),t.clip(this.layoutInfo.innerrect),t.drawPolygon(this.__xs,this.__ys,this.style),t.restore()},n.prototype.getpts=function(t){return null==this._pts&&(this._pts={xs:this.__xs,ys:this.__ys}),this._pts},n.prototype.onMouseEvent=function(t){switch(t.action){case a.ACTION_MOUSE_ON:console.log("mouse on ");break;case a.ACTION_MOUSE_OUT:console.log("mouse out ");break;case a.ACTION_MOUSE_MOVE:case a.ACTION_MOUSE_OUT:}return!0},n}(e.PlotShape);e.AreaShape=o;var l=function(e){function i(i){var n=e.call(this)||this;return n.ease=new t.view.animation.AnimationEase,n}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){var n=this.from+(this.to-this.from)*t;this.rect.clone();i.layoutInfo.innerrect.width=this.rect.width*n},i.prototype.onStartAniamtion=function(t,e){this.rect=e.layoutInfo.innerrect.clone()},i.prototype.onEndAnimation=function(t,e){},i}(n);e.AreaAnimation=l}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.graphics.Point,a=function(t){function e(e,a,r,s,o,l){var c=t.call(this,e)||this;return c.startPoint=new n(a,r),c.endPoint=new n(s,o),c._strokeStyle=l,null==l&&(c._strokeStyle=i.strokestyle),c}return __extends(e,t),e.prototype.onDrawShape=function(t){t.drawLine(this.startPoint,this.endPoint,this._strokeStyle)},e.prototype.refresh=function(){},e}(e.Shape);e.AxisLineShape=a}(t.test||(t.test={}))}(android||(android={})),function(t){!function(t){"use strict";var e=function(){function t(t){this.__shapelist=[],this.__context=t}return Object.defineProperty(t.prototype,"context",{get:function(){return this.__context},enumerable:!0,configurable:!0}),t.prototype.convert=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];throw"fuck Error"},Object.defineProperty(t.prototype,"shapeList",{get:function(){return this.__shapelist},enumerable:!0,configurable:!0}),t}();t.BaseLayout=e}(t.test||(t.test={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e}(e.BaseLayout);t.CartesianBaseLayout=i})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(e){var i=t.call(this,e)||this;return i.barStyle=n.style,i.lineStyle=n.strokestyle,i._locationCache=[],i._stack=!1,i._rect=null,i}return __extends(i,t),i.prototype.convert=function(t,e,i,n){this.__shapelist.length=0,this._serieslist=[];for(var a=0,r=t;a<r.length;a++){var s=r[a];this._serieslist.push(s.clone())}this._encoding=e,this._locationCache=[],this.__scalePairs=[],this._stack=e._stack,this._rect=i,this.__analyseScales();for(var o=0;o<this._serieslist.length;++o)this._layoutSeries(this._serieslist[o],o,n);return this.__shapelist},i.prototype.__analyseScales=function(){this._createLayoutScales(this._encoding);for(var t=0,i=this._serieslist;t<i.length;t++)for(var n=0,a=i[t].scalePairs;n<a.length;n++){var r=a[n],s=r.filed,o=r.scale;"x"==s.name?o instanceof e.OrdinalScale&&!0===s.band?o.rangeBounds([this._rect.left,this._rect.right]):o.range([this._rect.left,this._rect.right]):"y"==s.name&&(o instanceof e.OrdinalScale?!0===s.band?o.rangeBounds([this._rect.bottom,this._rect.top]):o.range([this._rect.bottom,this._rect.top]):(o=e.LinearTicks.create(o).niceScale()).range([this._rect.bottom,this._rect.top]))}},i.prototype._createLayoutScales=function(t){if(this._serieslist.length>1)for(var e=0;e<this._serieslist.length;++e)for(var i=0,n=(c=this._serieslist[e]).scalePairs;i<n.length;i++){for(var a=(p=n[i]).filed,r=!1,s=0,o=this.__scalePairs;s<o.length;s++){var l=o[s];if(l.filed.equals(a)&&l.scale.equal(p.scale)){r=!0,l.series.push(c.name);break}}r||this.__scalePairs.push({series:[c.name],filed:a,scale:p.scale})}else if(1==this._serieslist.length)for(var c,h=0,u=(c=this._serieslist[0]).scalePairs;h<u.length;h++){var p=u[h];this.__scalePairs.push({series:[c.name],filed:p.filed,scale:p.scale})}},Object.defineProperty(i.prototype,"maxSeriesSize",{get:function(){var t=this._getScale("x");return t instanceof e.OrdinalScale?t.domains.length:e.Utility.max(this._serieslist.map(function(t,e,i){return t.size}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),i.prototype._getScale=function(t){var e=_.findIndex(this.__scalePairs,function(e){return e.filed.name==t});return this.__scalePairs[e].scale},i}(e.BaseLayout);i.CartesianLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.graphics.Style,a=t.device.Default,r=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return this._rect.width/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i,r){this._serieslist.length;var s=t.getScale("x"),o=t.getScale("y"),l=t.getScale("color"),c=[];l instanceof e.OrdinalScale&&(l=l.clone(),c=e.ColorUtils.gradientColor(l.startPosition,l.endPosition,l.domains.length),l.range([0,l.domains.length-1]));for(var h=e.ColorUtils.indexColor(t.index),u=0,p=t.points;u<p.length;u++){var _=p[u];if(null!=_){var f=_.x,d=_.y,y=_.color,g=(_.shape,_.size,_.tooltip,_.text),m=s.getScaleValue(f.value)+(this._stack?0:(i-(this._serieslist.length-1)/2)*this.barWidth),v=d.isMultiple?d.value[0]:o.min<0?0:o.min,b=d.isMultiple?d.value[1]:d.value,w=o.getScaleValue(b),S=h;l instanceof e.OrdinalScale?S=c[l.getScaleValue(y.value)]:l instanceof e.LinearScale&&(S=e.ColorUtils.getColor(l.startPosition,l.endPosition,y.value,l.min,l.max));var x=o.getScaleValue(v),P=m-this.barWidth/2,T=m+this.barWidth/2,A=new e.BarShape(this.context,P,w,T-P,x-w);if(A.id=_.id,A.style=new n("gray",a.strokestyle),A.style.background=null!=S?S:h,t.showlabels&&null!=g){var L=g.value,M=a.font;M.fontColor="black",M.fontSize=12;var O=r.measureString(L,M),C=O.width,k=O.height;A.label=new e.Label(this.context,L,(P+T)/2,w-k/2-3,C,k,0,5),A.label._font=M,A.label.background=a.style,A.label.background.strokeStyle.strokeColor="white",A.label.background.background="white"}this.__shapelist.push(A)}}},i}(i.CartesianLayout);i.BarLayout=r})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return this._rect.width/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i,a){this._serieslist.length;var r=t.getScale("x"),s=t.getScale("y"),o=t.getScale("color"),l=t.getScale("size"),c=e.ColorUtils.indexColor(t.index),h=[];if(o instanceof e.OrdinalScale)if(null==(o=o.clone()).startPosition||null==o.endPosition)for(var u=o.domains.length,p=0;p<u;++p)o.ranges.push(e.ColorUtils.Color[p&e.ColorUtils.Color.length]);else h=e.ColorUtils.gradientColor(o.startPosition,o.endPosition,o.domains.length),o.range([0,o.domains.length-1]);for(var _=0,f=t.points;_<f.length;_++){var d=f[_];if(null!=d){var y=d.x,g=d.y,m=d.color,v=(d.shape,d.size),b=(d.tooltip,d.text),w=r.getScaleValue(y.value),S=s.getScaleValue(g.isMultiple?g.value[1]:g.value),x=l.getScaleValue(v.value);(isNaN(x)||null==x||x<=0)&&(x=10);var P=c;o instanceof e.OrdinalScale?P=h[o.getScaleValue(m.value)]:o instanceof e.LinearScale&&(P=e.ColorUtils.getColor(o.startPosition,o.endPosition,m.value,o.min,o.max));var T=new e.ScatterShape(this.context,w-x/2,S-x/2,x,x,n.style);if(T.style.background=null!=P?P:c,t.showlabels&&null!=b){var A=b.value,L=n.font;L.fontColor="black",L.fontSize=12;var M=a.measureString(A,L),O=M.width,C=M.height;T.label=new e.Label(this.context,A,w,S-x/2-3,O,C,0,3),T.label.background=n.style,T.label._font=L,T.label.background.strokeStyle.strokeColor="gray",T.label.background.background="lightblue"}this.__shapelist.push(T)}}},i.prototype._layoutLine=function(){},i}(i.CartesianLayout);i.ScatterLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(e){var i=t.call(this,e)||this;return i.barStyle=n.style,i.lineStyle=n.strokestyle,i._locationCache=[],i._stack=!1,i}return __extends(i,t),i.prototype.convert=function(t,e,i,n,a,r,s,o){this.__shapelist.length=0,this._serieslist=[];for(var l=0,c=t;l<c.length;l++){var h=c[l];this._serieslist.push(h.clone())}this._encoding=e,this._locationCache=[],this.__scalePairs=[],this._stack=e._stack,this._cx=i,this._cy=n,this._innerRadius=a,this._radius=r,this._startAngle=s,this._endAngle=o,this.__analyseScales();for(var u=0;u<this._serieslist.length;++u)this._layoutSeries(this._serieslist[u],u);return this.__shapelist},i.prototype.__analyseScales=function(){this._createLayoutScales(this._encoding);for(var t=0,i=this._serieslist;t<i.length;t++)for(var n=0,a=i[t].scalePairs;n<a.length;n++){var r=a[n],s=r.filed,o=r.scale;"x"==s.name?o instanceof e.OrdinalScale&&!0===s.band?o.rangeBounds([this._innerRadius,this._radius]):o.range([this._innerRadius,this._radius]):"y"==s.name&&(o instanceof e.OrdinalScale?!0===s.band?o.rangeBounds([this._startAngle,this._endAngle]):o.range([this._startAngle,this._endAngle]):(o=e.LinearTicks.create(o).niceScale()).range([this._startAngle,this._endAngle]))}},i.prototype._createLayoutScales=function(t){if(this._serieslist.length>1)for(var e=0;e<this._serieslist.length;++e)for(var i=0,n=(c=this._serieslist[e]).scalePairs;i<n.length;i++){for(var a=(p=n[i]).filed,r=!1,s=0,o=this.__scalePairs;s<o.length;s++){var l=o[s];if(l.filed.equals(a)&&l.scale.equal(p.scale)){r=!0,l.series.push(c.name);break}}r||this.__scalePairs.push({series:[c.name],filed:a,scale:p.scale})}else if(1==this._serieslist.length)for(var c,h=0,u=(c=this._serieslist[0]).scalePairs;h<u.length;h++){var p=u[h];this.__scalePairs.push({series:[c.name],filed:p.filed,scale:p.scale})}},Object.defineProperty(i.prototype,"maxSeriesSize",{get:function(){var t=this._getScale("x");return t instanceof e.OrdinalScale?t.domains.length:e.Utility.max(this._serieslist.map(function(t,e,i){return t.size}))},enumerable:!0,configurable:!0}),Object.defineProperty(i.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),i.prototype._getScale=function(t){var e=_.findIndex(this.__scalePairs,function(e){return e.filed.name==t});return this.__scalePairs[e].scale},i}(e.BaseLayout);i.RadialCartesianLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.graphics.Style,a=t.device.Default,r=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return(this._radius-this._innerRadius)/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i){this._serieslist.length;var r=t.getScale("x"),s=t.getScale("y"),o=t.getScale("color"),l=[];o instanceof e.OrdinalScale&&(o=o.clone(),l=e.ColorUtils.gradientColor(o.startPosition,o.endPosition,o.domains.length),o.range([0,o.domains.length-1]));for(var c=e.ColorUtils.indexColor(t.index),h=0,u=t.points;h<u.length;h++){var p=u[h];if(null!=p){var _=p.x,f=p.y,d=p.color,y=(p.shape,p.size,r.getScaleValue(_.value)+(this._stack?0:(i-(this._serieslist.length-1)/2)*this.barWidth)),g=f.isMultiple?f.value[0]:s.min<0?0:s.min,m=f.isMultiple?f.value[1]:f.value,v=s.getScaleValue(m),b=c;o instanceof e.OrdinalScale?b=l[o.getScaleValue(d.value)]:o instanceof e.LinearScale&&(b=e.ColorUtils.getColor(o.startPosition,o.endPosition,d.value,o.min,o.max));var w=s.getScaleValue(g),S=y-this.barWidth/2,x=y+this.barWidth/2,P=new e.RadialBarShape(this.context,this._cx,this._cy,S,x,w,v-w);P.id=p.id,P.style=new n("gray",a.strokestyle),P.style.background=null!=b?b:c,this.__shapelist.push(P)}}},i}(i.RadialCartesianLayout);i.RadialBarLayout=r})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=(t.getScale("color"),[]),o=[],l=0,c=t.points;l<c.length;l++){var h=c[l];if(null!=h){console.log(h);var u=h.x,p=h.y,_=(h.color,h.shape,h.size,a.getScaleValue(u.value)),f=r.getScaleValue(p.isMultiple?p.value[1]:p.value),d=this._cx+Math.cos(f)*_,y=this._cy+Math.sin(f)*_;s.push(d),o.push(y)}}var g=new e.LinesShape(this.context,s,o,null,n.strokestyle);g.strokeStyle.strokeColor=e.ColorUtils.indexColor(t.index),g.id=t.id,this.__shapelist.push(g)},i.prototype._layoutLine=function(){},i}(i.RadialCartesianLayout);i.RadialLineLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=(t.getScale("color"),[]),o=[],l=0,c=t.points;l<c.length;l++){var h=c[l];if(null!=h){console.log(h);var u=h.x,p=h.y,_=(h.color,h.shape,h.size,a.getScaleValue(u.value)),f=p.isMultiple?p.value[0]:r.min<0?0:r.min,d=p.isMultiple?p.value[1]:p.value,y=r.getScaleValue(f),g=r.getScaleValue(d),m=this._cx+Math.cos(y)*_,v=this._cy+Math.sin(y)*_,b=this._cx+Math.cos(g)*_,w=this._cy+Math.sin(g)*_;s.push(b),o.push(w),s.unshift(m),o.unshift(v)}}var S=new e.AreaShape(this.context,s,o,null,n.strokestyle);S.style.background=e.ColorUtils.indexColor(t.index),S.id=t.id,this.__shapelist.push(S)},i.prototype._layoutLine=function(){},i}(i.RadialCartesianLayout);i.RadialAreaLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),Object.defineProperty(i.prototype,"barWidth",{get:function(){return(this._radius-this._innerRadius)/this.maxSeriesSize/(this._stack?1:this._serieslist.length)*.9},enumerable:!0,configurable:!0}),i.prototype._layoutSeries=function(t,i){this._serieslist.length;var a=t.getScale("x"),r=t.getScale("y"),s=t.getScale("color"),o=t.getScale("size"),l=e.ColorUtils.indexColor(t.index),c=[];s instanceof e.OrdinalScale&&(s=s.clone(),c=e.ColorUtils.gradientColor(s.startPosition,s.endPosition,s.domains.length),s.range([0,s.domains.length-1]));for(var h=0,u=t.points;h<u.length;h++){var p=u[h];if(null!=p){var _=p.x,f=p.y,d=p.color,y=(p.shape,p.size),g=a.getScaleValue(_.value),m=r.getScaleValue(f.isMultiple?f.value[1]:f.value),v=o.getScaleValue(y.value);(isNaN(v)||null==v||v<=0)&&(v=10),console.log("radius "+g+" angle "+m);var b=l;s instanceof e.OrdinalScale?b=c[s.getScaleValue(d.value)]:s instanceof e.LinearScale&&(b=e.ColorUtils.getColor(s.startPosition,s.endPosition,d.value,s.min,s.max));var w=this._cx+Math.cos(m)*g,S=this._cy+Math.sin(m)*g,x=new e.ScatterShape(this.context,w-v/2,S-v/2,v,v,n.style);x.style.background=null!=b?b:l,this.__shapelist.push(x)}}},i.prototype._layoutLine=function(){},i}(i.RadialCartesianLayout);i.RadialScatterLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=[],o=[],l=(e.ColorUtils.indexColor(t.index),0),c=t.points;l<c.length;l++){var h=c[l];if(null!=h){var u=h.x,p=h.y,_=(h.color,h.shape,h.size,a.getScaleValue(u.value)),f=p.isMultiple?p.value[1]:p.value;f=r.getScaleValue(f),s.push(_),o.push(f)}}var d=new e.LinesShape(this.context,s,o,null,n.strokestyle);d.strokeStyle.strokeColor=e.ColorUtils.indexColor(t.index),d.style.strokeStyle=null,d.id=t.id,this.__shapelist.push(d)},i.prototype._layoutLine=function(){},i}(i.CartesianLayout);i.LineLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i){this._serieslist.length;for(var a=t.getScale("x"),r=t.getScale("y"),s=(t.getScale("color"),[]),o=[],l=0,c=t.points;l<c.length;l++){var h=c[l];if(null!=h){var u=h.x,p=h.y,_=(h.color,h.shape,h.size,a.getScaleValue(u.value)),f=p.isMultiple?p.value[0]:r.min<0?r.max<0?r.max:0:r.min,d=p.isMultiple?p.value[1]:p.value;f=r.getScaleValue(f),d=r.getScaleValue(d),s.push(_),o.push(f),s.unshift(_),o.unshift(d)}}var y=new e.AreaShape(this.context,s,o,null,n.strokestyle);y.style.background=e.ColorUtils.indexColor(t.index),y.style.strokeStyle=null,y.id=t.id,this.__shapelist.push(y)},i.prototype._layoutLine=function(){},i}(i.CartesianLayout);i.AreaLayout=a})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function e(e){var i=t.call(this,e)||this;return i._rect=null,i._depth=0,i._offset=1,i.style=n.style,i.lineStyle=n.strokestyle,i._depth=0,i}return __extends(e,t),e.prototype._calcDeep=function(t){this._depth=0,this._depth=this.__calcDeep(t)+1},e.prototype.__calcDeep=function(t){if(null!=t&&t.length>0){for(var e=0,i=0,n=t;i<n.length;i++){var a=n[i],r=this.__calcDeep(a.children);a._hidden=!1,e<r&&(e=r)}return++e}return 0},e}(e.BaseLayout);i.HierarchicalLayout=a})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(e,i,n,a){var r=t.call(this,e)||this;return r.__startAngle=i,r.__innerRadius=a,r.__sweep=n,r}return __extends(i,t),i.prototype.convert=function(t,e,i,n){this._calcDeep(t),this.__cx=(i.left+i.right)/2,this.__cy=(i.top+i.bottom)/2,this.__radius=i.width<i.height?i.width/2:i.height/2,this.__radiusUnit=(this.__radius-this.__innerRadius-this._offset)/(this._depth-1);var a=new r(t,this.__cx,this.__cy,this.__startAngle,this.__sweep+this.__startAngle,this.__innerRadius,this.__innerRadius+this.__radiusUnit,0,0);return this.__calcSum(a),this.__preangle=a.sweep/a.sum,this.__layoutItems(a,n),null},i.prototype.__layoutItems=function(t,i){for(var a=t.startAngle,s=0;s<t.vs.length;++s){var o=t.vs[s],l=o.size.value*this.__preangle,c=t.cx,h=t.cy;0==t.depth&&(c=t.cx+this._offset*Math.cos(a+l/2),h=t.cy+this._offset*Math.sin(a+l/2));var u=new e.SunburstShape(this.context,c,h,t.innerRadius,t.radius,a,l,n.style,n.strokestyle);if(u.style.background=e.ColorUtils.indexColor(parseInt(o.id)),u.id=o.id,u.text=o.text.value,this.__shapelist.push(u),o.children&&o.children.length>0){var p=new r(o.children,c,h,a,a+l,t.radius,t.radius+this.__radiusUnit,0,t.depth+1);this.__calcSum(p),this.__layoutItems(p,i)}a+=l}},i.prototype.__calcSum=function(t){for(var e=0,i=0,n=t.vs;i<n.length;i++){var a=n[i];e+=null==a.size.value||isNaN(a.size.value)?0:a.size.value}t.sum=e},i}(i.HierarchicalLayout);i.SunburstLayout=a;var r=function(){function t(t,e,i,n,a,r,s,o,l){this.vs=t,this.startAngle=n,this.endAngle=a,this.innerRadius=r,this.radius=s,this.sum=o,this.depth=l,this.cx=e,this.cy=i}return Object.defineProperty(t.prototype,"sweep",{get:function(){return this.endAngle-this.startAngle},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.radius-this.innerRadius},enumerable:!0,configurable:!0}),t}()})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.graphics.Rect,a=t.device.Default,r=t.graphics.Util,s=t.view.ViewState,o=function(t){function i(e,i){var n=t.call(this,e)||this;return n._limited=500,n._rect=i,n}return __extends(i,t),i.prototype.convert=function(t,e,i,n){this.__shapelist=[],this._calcDeep(t);var a=new l(t,i.left,i.top,i.right,i.bottom,0,0);return this.__calcSum(a),this.__hideSmallNode(a),this.__layoutItems(a,n),this.__shapelist},i.prototype.__hideSmallNode=function(t){if(null!=t&&null!=t.vs&&t.vs.length>0){var e=t.area/t.sum;t.vs.sort(function(t,e){return t.size.value-e.size.value}),t.vs.length;for(var i=0,n=t.vs;i<n.length;i++){var a=n[i];a.size.value*e<this._limited&&(a._hidden=!0,t.sum-=a.size.value,e=t.area/t.sum)}}},i.prototype.__calcSum=function(t){for(var e=0,i=0,n=t.vs;i<n.length;i++)e+=n[i].size.value;t.sum=e},i.prototype.__layoutItems=function(t,i){if(!(t.sum<=0)){var o=new n(t.l,t.t,t.r,t.b),c=t.area/t.sum;t.vs.sort(function(t,e){return e.size.value-t.size.value});for(var h=0;h<t.vs.length&&!o.isNil;){var u=this.__locationRects(t.vs,h,c,o),p=r.union.apply(r,u);o=this.__clipRect(p,o);for(var _=0;_<u.length;++_){var f=u[_],d=t.vs[h],y=new e.CubeShape(this.context,f.left,f.top,f.width,f.height,a.style,a.strokestyle);if(y.visiable=s.Visiable,y.style.background=e.ColorUtils.indexColor(parseInt(d.id)),y.id=d.id,y.text=d.text.value,d._hidden)h++;else{if(d.children&&d.children.length>0){var g=0;!isNaN(this._offset)&&this._offset>0&&(g=(this._depth-t.depth)/this._depth*this._offset),f=new n(f.left+g,f.top+g,f.right-g,f.bottom-g);var m=new l(d.children,f.left,f.top,f.left+f.width,f.top+f.height,d.size.value,t.depth+1);this.__calcSum(m),this.__hideSmallNode(m),m.sum>0&&(y.visiable=s.InVisiable,this.__layoutItems(m,i))}this.__shapelist.push(y),++h}}}}},i.prototype.__locationRects=function(t,e,i,a){for(var r=[],s=0,o=0,l=e;l<t.length;++l){var c=t[l],h=void 0,u=0;if(c.size.value<0&&(t.splice(l,1),c=t[l]),a.height<a.width){if(h=(o+=c.size.value)*i/a.height,u=t[e].size.value*i/h,0!=s){var p=u>h?u/h:h/u;if(!(Math.abs(p-1)<Math.abs(s-1)))return r;s=p,r.length=0}else s=u>h?u/h:h/u;r.length=0;for(var _=e;_<=l;_++){var f=void 0,d=t[_].size.value*i/h;f=_===e?new n(a.left,a.top,a.left+h,a.top+u):new n(r[_-e-1].left,r[_-e-1].bottom,r[_-e-1].left+h,d+r[_-e-1].bottom),r.push(f)}}else{if(u=(o+=c.size.value)*i/a.width,h=t[e].size.value*i/u,0!=s){if(p=u>h?u/h:h/u,!(Math.abs(p-1)<Math.abs(s-1)))return r;s=p,r.length=0}else s=u>h?u/h:h/u;for(r.length=0,_=e;_<=l;_++){f=void 0;var y=t[_].size.value*i/u;f=_===e?new n(a.left,a.top,a.left+h,a.top+u):new n(r[_-e-1].right,r[_-e-1].top,r[_-e-1].right+y,r[_-e-1].top+u),r.push(f)}}}return r},i.prototype.__clipRect=function(t,e){return Math.abs(t.width-e.width)<=1e-4?new n(t.left,t.bottom,t.right,e.bottom):new n(t.right,t.top,e.right,t.bottom)},i}(i.HierarchicalLayout);i.TreeMapLayout=o;var l=function(){function t(t,e,i,n,a,r,s){this.vs=t,this.l=e,this.t=i,this.r=n,this.b=a,this.sum=r,this.depth=s}return Object.defineProperty(t.prototype,"w",{get:function(){return this.r-this.l},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"h",{get:function(){return this.b-this.t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"area",{get:function(){return this.w*this.h},enumerable:!0,configurable:!0}),t}()})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){!function(t){"use strict";var e=Math.sqrt(50),i=Math.sqrt(10),n=Math.sqrt(2),a=function(){function t(t){this._scale=t,this._ticks=[]}return t.create=function(t,e,i){return null},t.prototype._createTicks=function(t,e,i){var n,a,r,s=e<t,o=-1;if(s&&(n=t,t=e,e=n),0===(r=this._tickIncrement(t,e,i))||!isFinite(r))return[];if(r>0)for(t=Math.ceil(t/r),e=Math.floor(e/r),a=new Array(n=Math.ceil(e-t+1));++o<n;)a[o]=(t+o)*r;else for(t=Math.floor(t*r),e=Math.ceil(e*r),a=new Array(n=Math.ceil(t-e+1));++o<n;)a[o]=(t-o)/r;return s&&a.reverse(),a},t.prototype._tickIncrement=function(t,a,r){var s=(a-t)/Math.max(0,r),o=Math.floor(Math.log(s)/Math.LN10),l=s/Math.pow(10,o);return o>=0?(l>=e?10:l>=i?5:l>=n?2:1)*Math.pow(10,o):-Math.pow(10,-o)/(l>=e?10:l>=i?5:l>=n?2:1)},t.prototype._tickStep=function(t,a,r){var s=Math.abs(a-t)/Math.max(0,r),o=Math.pow(10,Math.floor(Math.log(s)/Math.LN10)),l=s/o;return l>=e?o*=10:l>=i?o*=5:l>=n&&(o*=2),a<t?-o:o},t}();t.Ticks=a}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.create=function(i){return t.Debug.assert(i instanceof e.LinearScale," scale must be LinearScale"),new n(i)},n.prototype.createTicks=function(t){return(null==t||isNaN(t))&&(t=10),this._ticks=this._createTicks(this._scale.max,this._scale.min,t),this._ticks},n.prototype.niceScale=function(){var t=this._scale,e=this._tickStep(t.min,t.max,10);0==e&&(e=1);var i=0===t.min?0:Math.floor(t.min/e)*e,n=(Math.floor(t.max/e)+1)*e;return t.domain([i,n]).refresh(),t},n}(e.Ticks);e.LinearTicks=i}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.create=function(i){return t.Debug.assert(i instanceof e.LogScale," scale must be LinearScale"),new n(i)},n.prototype.createTicks=function(t){return(null==t||isNaN(t))&&(t=10),this._ticks=this._createTicks(this._scale.max,this._scale.min,t),this._ticks},n}(e.Ticks);e.LogTicks=i}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=function(i){function n(){return null!==i&&i.apply(this,arguments)||this}return __extends(n,i),n.create=function(i){return t.Debug.assert(i instanceof e.OrdinalScale," scale must be OrdinalScale"),new n(i)},n.prototype.createTicks=function(t){if(null!=t){this._ticks=[];var e=this._scale.domains;if(e.length/t<2)this._ticks=this._scale.domains;else for(var i=Math.floor(e.length/t),n=0;n<e.length;n+=i)this._ticks.push(e[n])}else this._ticks=this._scale.domains;return this._ticks},n}(e.Ticks);e.OrdinalTicks=i}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=function(t){function e(e){var n=t.call(this,e)||this;return n._major=i.strokestyle.clone(),n._minor=i.strokestyle.clone(),n._lableFont=i.font.clone(),n._showLabel=!0,n}return __extends(e,t),e.prototype.onDrawShape=function(t){t.save();for(var e=[],i=[],n=this._lableRect.points,a=0;a<4;++a)e.push(n[a].x),i.push(n[a].y);t.drawLine(this._majorTick.startPoint,this._majorTick.endPoint,this._major),this._showLabel&&t.drawText(this._label,this._lableRect.leftTop,this._lableFont,this._lableRect.leftTop,180*this._lableRect.angle/Math.PI),t.drawLine(this._minorTick.startPoint,this._minorTick.endPoint,this._minor),t.restore()},e.prototype.refresh=function(){},e}(e.Shape);e.AxisShape=n}(t.test||(t.test={}))}(android||(android={}));var android,LABEL_PADDING=4,MAJOR_TICK_HEIGHT=6,MINOR_TICK_HEIGHT=4;!function(t){var e;(function(e){"use strict";var i=t.device.Default,n=function(t){function e(e){var n=t.call(this,e)||this;return n._majorTickHeight=MAJOR_TICK_HEIGHT,n._minorTickHeight=MINOR_TICK_HEIGHT,n._ticks=[],n._titleFont=i.font,n._labelFont=i.font,n._majorStyle=i.strokestyle,n._minorStyle=i.strokestyle,n._near=!0,n._labelFont.fontColor="#262626",n._series=[],n}return __extends(e,t),Object.defineProperty(e.prototype,"title",{get:function(){return this._title},set:function(t){this._title=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"majorStyle",{get:function(){return this._majorStyle},set:function(t){this._majorStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minorStyle",{get:function(){return this._minorStyle},set:function(t){this._minorStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lineStyle",{get:function(){return this._lineStyle},set:function(t){this._lineStyle=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"titleFont",{get:function(){return this._titleFont},set:function(t){this._titleFont=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"labelFont",{get:function(){return this._labelFont},set:function(t){this._labelFont=t.clone()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},set:function(t){this._max=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"min",{get:function(){return this._min},set:function(t){this._min=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"series",{get:function(){return this._series},set:function(t){this._series=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"scale",{get:function(){return this._scale},set:function(t){null==t||t.equal(this._scale)?null==t&&(this._scale=null,this._ticks=[]):(this._scale=t,this._ticks=this._createTicks())},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"reversed",{get:function(){return this._reversed},set:function(t){this._reversed=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this._axisType},set:function(t){this._axisType=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"near",{get:function(){return this._near},set:function(t){this._near=t},enumerable:!0,configurable:!0}),e.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},e.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},e.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e)},e.prototype._format=function(t){return t+""},e}(t.view.ViewGroup);e.BaseAxis=n})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.view.MeasureSpec,a=t.graphics.Size,r=t.graphics.Gravity,s=t.view.LayoutParams,o=t.graphics.Point,l=t.graphics.Util,c=function(t){function c(e){var i=t.call(this,e)||this;return i._maxLabelSize=new a(0,0),i}return __extends(c,t),Object.defineProperty(c.prototype,"near",{get:function(){return this._near},set:function(t){this._near=t,t?this.type==i.AxisType.X?this.gravity=r.Bottom:this.type==i.AxisType.Y&&(this.gravity=r.Left):this.type==i.AxisType.X?this.gravity=r.Top:this.type==i.AxisType.Y&&(this.gravity=r.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"id",{get:function(){return l.HashCode(l.HashCode(this._axisType)+l.HashCode(this.near)+l.HashCode(this.title))},enumerable:!0,configurable:!0}),c.prototype._createTicks=function(){var t=[];return this.scale instanceof e.LinearScale?t=e.LinearTicks.create(this.scale).createTicks(10):this.scale instanceof e.LogScale?t=e.LogTicks.create(this.scale).createTicks(10):this.scale instanceof e.OrdinalScale&&(t=e.OrdinalTicks.create(this.scale).createTicks()).length>30&&(t=e.OrdinalTicks.create(this.scale).createTicks(30)),t},c.prototype._layoutXAxis=function(t){var i,n=this._ticks;this._children=[];for(var a=0;n&&a<n.length;++a){var r=n[a],s=a>=n.length?null:n[a+1],o=Math.max(this._majorTickHeight,this._minorTickHeight),l=this._format(r),c=t.measureString(l,this.labelFont),h=this.scale.getScaleValue(r),u=this.layoutInfo.innerrect.top,p=NaN;null!=s&&(p=this.scale.getScaleValue(s));var _=h,f=u+o+LABEL_PADDING+c.height/2,d=new e.AxisShape(this.getContext());d._lableRect=new e.RotateRect(_,f,c.width,c.height,0),d._majorTick=new e.RotateLine(h,u,this._majorTickHeight,0,0),d._label=l,d._lableFont=this._labelFont,d._major=this.majorStyle,d._minor=this.minorStyle;var y=NaN;isNaN(p)||(y=(h+p)/2),d._minorTick=new e.RotateLine(y,u,this._minorTickHeight,0,0),null!=i&&e.Utility.isMixedRotatedRect(d._lableRect,i._lableRect)?d._showLabel=!1:(d._showLabel=!0,i=d),this._children.push(d)}},c.prototype._layoutYAxis=function(t){var i=this._ticks;this._children=[];for(var n=0;i&&n<i.length;++n){var a=i[n],r=n>=i.length?null:i[n+1],s=Math.max(this._majorTickHeight,this._minorTickHeight),o=this._format(a),l=t.measureString(o,this.labelFont),c=this.scale.getScaleValue(a),h=this.layoutInfo.innerrect.right;this.near||(h=this.layoutInfo.innerrect.left);var u=NaN;null!=r&&(u=this.scale.getScaleValue(r));var p=h-l.width/2-LABEL_PADDING-s,_=c;this.near||(p=h+l.width/2+LABEL_PADDING+s);var f=new e.AxisShape(this.getContext());f._lableRect=new e.RotateRect(p,_,l.width,l.height,0),f._majorTick=new e.RotateLine(h,c,this._majorTickHeight,0,this.near?Math.PI/2:-Math.PI/2),f._label=o,f._lableFont=this.labelFont,f._major=this.majorStyle,f._minor=this.minorStyle;var d=NaN;isNaN(u)||(d=(c+u)/2),f._minorTick=new e.RotateLine(h,d,this._minorTickHeight,0,this.near?Math.PI/2:-Math.PI/2),this._children.push(f)}},c.prototype.onMeasure=function(e,r,o){var l=null;return this._axisType==i.AxisType.X?(l=new a(e.value,this._measureX(o)),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):this._axisType==i.AxisType.Y?(l=new a(this._measureY(o),r.value),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):t.prototype.onMeasure.call(this,e,r,o)},c.prototype._measureX=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return this._maxLabelSize=n.clone(),n.height+e.height+i},c.prototype._measureY=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return this._maxLabelSize=n.clone(),n.width+e.height+i},c.prototype.onLayout=function(n,a,r,s,o){if(t.prototype.onLayout.call(this,n,a,r,s,o),null!=this.scale&&(this._axisType===i.AxisType.X?this._layoutXAxis(o):this._axisType==i.AxisType.Y&&this._layoutYAxis(o)),null!=this._children)for(var c=0,h=this._children;c<h.length;c++){var u=h[c];u instanceof e.AxisShape&&(u.onLayout(u._lableRect.leftTop.x,u._lableRect.leftTop.y,u._lableRect.width,u._lableRect.height,o),u.id=l.HashCode(l.HashCode(u._label)+l.HashCode(this.id)))}},c.prototype.onDraw=function(e){if(t.prototype.onDraw.call(this,e),this._drawLine(e),null!=this._children)for(var i=0,n=this._children;i<n.length;i++)n[i].onDraw(e)},c.prototype._drawLine=function(t){var e=this.layoutInfo.innerrect;this._axisType==i.AxisType.X?this._near?t.drawLine(new o(e.left,e.top),new o(e.right,e.top),this.lineStyle):t.drawLine(new o(e.left,e.bottom),new o(e.right,e.bottom),this.lineStyle):this._axisType==i.AxisType.Y&&(this._near?t.drawLine(new o(e.right,e.top),new o(e.right,e.bottom),this.lineStyle):t.drawLine(new o(e.left,e.top),new o(e.left,e.bottom),this.lineStyle))},c}(i.BaseAxis);i.LineAxis=c})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.view.MeasureSpec,a=t.graphics.Size,r=t.graphics.Gravity,s=t.view.LayoutParams,o=t.graphics.Point,l=t.device.Default,c=function(t){function c(e){var i=t.call(this,e)||this;return i.__innerRadius=0,i.__startAngle=0,i.__sweep=0,i.__radius=0,i.__cx=0,i.__cy=0,i.__innerRadius=0,i._lineStyle=l.strokestyle,i}return __extends(c,t),Object.defineProperty(c.prototype,"near",{get:function(){return this._near},set:function(t){this._near=t,t?this.type==i.AxisType.X?this.gravity=r.Bottom:this.type==i.AxisType.Y&&(this.gravity=r.Left):this.type==i.AxisType.X?this.gravity=r.Top:this.type==i.AxisType.Y&&(this.gravity=r.Right)},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"_cx",{get:function(){return this.__cx},set:function(t){this.__cx=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"_cy",{get:function(){return this.__cy},set:function(t){this.__cy=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"_radius",{get:function(){return this.__radius},set:function(t){this.__radius=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"_innerRadius",{get:function(){return this.__innerRadius},set:function(t){this.__innerRadius=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"_startAngle",{get:function(){return this.__startAngle},set:function(t){this.__startAngle=t},enumerable:!0,configurable:!0}),Object.defineProperty(c.prototype,"_sweep",{get:function(){return this.__sweep},set:function(t){this.__sweep=t},enumerable:!0,configurable:!0}),c.prototype._createTicks=function(){var t=[];return this.scale instanceof e.LinearScale?t=e.LinearTicks.create(this.scale).createTicks(10):this.scale instanceof e.LogScale?t=e.LogTicks.create(this.scale).createTicks(10):this.scale instanceof e.OrdinalScale&&(t=e.OrdinalTicks.create(this.scale).createTicks()),t},c.prototype._layoutXAxis=function(t){var i=this._ticks;this._children=[];for(var n=0;i&&n<i.length;++n){var a=i[n],r=n>=i.length?null:i[n+1],s=Math.max(this._majorTickHeight,this._minorTickHeight),o=this._format(a),l=t.measureString(o,this.labelFont),c=this.scale.getScaleValue(a),h=this._cx+Math.cos(this._startAngle)*c,u=this._cy+Math.sin(this._startAngle)*c,p=NaN;if(null!=r){var _=this.scale.getScaleValue(r);p=this._cx+Math.cos(this._startAngle)*_,this._cy,Math.sin(this._startAngle)}Math.sin(this._startAngle),l.height,Math.cos(this._startAngle),l.height;var f=h,d=u+s+LABEL_PADDING+l.height/2,y=new e.AxisShape(this.getContext());y._lableRect=new e.RotateRect(f,d,l.width,l.height,0),y._majorTick=new e.RotateLine(h,u,this._majorTickHeight,0,this._startAngle),y._label=o,y._lableFont=this._labelFont,y._major=this.majorStyle,y._minor=this.minorStyle;var g=NaN,m=NaN,v=NaN;isNaN(p)||(v=this.scale.getScaleValue((a+r)/2),g=this._cx+Math.cos(this._startAngle)*v,m=this._cy+Math.sin(this._startAngle)*v),y._minorTick=new e.RotateLine(g,m,this._minorTickHeight,0,this._startAngle),this._children.push(y)}},c.prototype._layoutYAxis=function(t){var i=this._ticks;this._children=[];for(var n=0;i&&n<i.length;++n){var a=i[n],r=n>=i.length?null:i[n+1],s=Math.max(this._majorTickHeight,this._minorTickHeight),o=this._format(a),l=t.measureString(o,this.labelFont),c=this.scale.getScaleValue(a),h=this._cx+Math.cos(c)*this._radius,u=this._cy+Math.sin(c)*this._radius,p=NaN;if(null!=r){var _=this.scale.getScaleValue(r);this._cx,Math.cos(_),this._radius,p=this._cy+Math.sin(_)*this._radius}var f=this._cx+Math.cos(c)*(this._radius+s+LABEL_PADDING+l.height/2),d=this._cy+Math.sin(c)*(this._radius+s+LABEL_PADDING+l.height/2),y=new e.AxisShape(this.getContext());y._lableRect=new e.RotateRect(f,d,l.width,l.height,0),y._majorTick=new e.RotateLine(h,u,this._majorTickHeight,0,c-Math.PI/2),y._label=o,y._lableFont=this.labelFont,y._major=this.majorStyle,y._minor=this.minorStyle;var g=NaN,m=NaN,v=NaN;isNaN(p)||(v=this.scale.getScaleValue((r+a)/2),m=this._cx+Math.cos(v)*this._radius,g=this._cy+Math.sin(v)*this._radius),y._minorTick=new e.RotateLine(m,g,this._minorTickHeight,0,v-Math.PI/2),this._children.push(y)}},c.prototype.onMeasure=function(e,r,o){var l=null;return this._axisType==i.AxisType.X?(l=new a(e.value,this._measureX(o)),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):this._axisType==i.AxisType.Y?(l=new a(this._measureY(o),r.value),this.setMeasuredDimension(new n(l.width,s.EXACTLY),new n(l.height,s.EXACTLY)),l):t.prototype.onMeasure.call(this,e,r,o)},c.prototype._measureX=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return n.height+e.height+i},c.prototype._measureY=function(t){for(var e=t.measureString(this.title,this.titleFont),i=Math.max(this._majorTickHeight,this._minorTickHeight),n=new a(0,0),r=0,s=this._ticks;r<s.length;r++){var o=s[r],l=t.measureString(this._format(o),this.labelFont);n.width=Math.max(l.width,n.width),n.height=Math.max(l.height,n.height)}return n.width+e.height+i},c.prototype.onLayout=function(e,n,a,r,s){t.prototype.onLayout.call(this,e,n,a,r,s),null!=this.scale&&(this._axisType===i.AxisType.X?this._layoutXAxis(s):this._axisType==i.AxisType.Y&&this._layoutYAxis(s))},c.prototype.onDraw=function(e){if(t.prototype.onDraw.call(this,e),this._drawLine(e),null!=this._children)for(var i=0,n=this._children;i<n.length;i++)n[i].onDraw(e)},c.prototype._drawLine=function(t){if(this.layoutInfo.innerrect,this._axisType==i.AxisType.X){var e=this._cx+Math.cos(this.__startAngle)*this._radius,n=this._cy+Math.sin(this.__startAngle)*this._radius,a=this._cx+Math.cos(this.__startAngle)*this.__innerRadius*this._radius,r=this._cy+Math.sin(this.__startAngle)*this._innerRadius*this._radius;t.drawLine(new o(a,r),new o(e,n),this.lineStyle)}else if(this._axisType==i.AxisType.Y){var s=l.style;s.strokeStyle=this.lineStyle,t.drawDonut(this._cx,this._cy,this._radius,this._radius-this.lineStyle.strokeWidth,this._startAngle/Math.PI*180,180*this._sweep/Math.PI,s)}},c}(i.BaseAxis);i.RadialLineAxis=c})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){!function(e){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),Object.defineProperty(e.prototype,"layout",{get:function(){return null},enumerable:!0,configurable:!0}),e}(t.view.ViewGroup);e.BasePlot=i}(t.test||(t.test={}))}(android||(android={})),function(t){var e,i,n,a,r,s,o;e=t.test||(t.test={}),i=e.cartesian||(e.cartesian={}),n=t.graphics.Rect,a=t.device.Default,r=t.view.animation.Animation,s=t.view.animation.BounceAnimationEase,o=function(t){function o(e,i){var n=t.call(this,e)||this;return n.__shapeList=[],n._datamodel=i,n._layouts=[],n.__scalePairs=[],n._animation=new r,n._animation.duration=500,n._animation.ease=new s,n}return __extends(o,t),o.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},o.prototype.onLayout=function(a,r,s,o,l){if(t.prototype.onLayout.call(this,a,r,s,o,l),this.islayoutChanged){this.removeAllViews(),this.__shapeList=[],this.__scalePairs=[],this._layouts.length=0;for(var c=this._datamodel.encoding._radial,h=0,u=this._datamodel.chartTypes;h<u.length;h++)switch(u[h]){case e.ChartType.Bar:if(c){var p=new i.RadialBarLayout(this.getContext()),f=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m;p.convert(this._datamodel.getSeriesByType(e.ChartType.Bar),this._datamodel.encoding,f,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(p.shapeList),this._layouts.push(p)}else(p=new i.BarLayout(this.getContext())).convert(this._datamodel.getSeriesByType(e.ChartType.Bar),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(p.shapeList),this._layouts.push(p);break;case e.ChartType.Line:if(c){var b=new i.RadialLineLayout(this.getContext());f=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m,b.convert(this._datamodel.getSeriesByType(e.ChartType.Line),this._datamodel.encoding,f,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(b.shapeList),this._layouts.push(b)}else(b=new i.LineLayout(this.getContext())).convert(this._datamodel.getSeriesByType(e.ChartType.Line),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(b.shapeList),this._layouts.push(b);break;case e.ChartType.Scatter:if(c){var w=new i.RadialScatterLayout(this.getContext());f=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m,w.convert(this._datamodel.getSeriesByType(e.ChartType.Scatter),this._datamodel.encoding,f,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(w.shapeList),this._layouts.push(w)}else{var S=new i.ScatterLayout(this.getContext());S.convert(this._datamodel.getSeriesByType(e.ChartType.Scatter),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(S.shapeList),this._layouts.push(S)}break;case e.ChartType.Area:if(c){var x=new i.RadialAreaLayout(this.getContext());f=(a+s)/2,d=(o+r)/2,y=(s-a<o-r?s-a:o-r)/2,g=0,m=i.StartAngle,v=2*Math.PI+m,x.convert(this._datamodel.getSeriesByType(e.ChartType.Area),this._datamodel.encoding,f,d,g,y,m,v),this.__shapeList=this.__shapeList.concat(x.shapeList),this._layouts.push(x)}else(x=new i.AreaLayout(this.getContext())).convert(this._datamodel.getSeriesByType(e.ChartType.Area),this._datamodel.encoding,new n(a,r,s,o),l),this.__shapeList=this.__shapeList.concat(x.shapeList),this._layouts.push(x)}if(this.layouts.length>1)for(var P=0;P<this._layouts.length;++P)for(var T=this.layouts[P].scalePairs,A=function(t){var e=_.find(L.scalePairs,function(e){return e.filed.equals(t.filed)&&e.scale.equal(t.scale)});null==e?L.__scalePairs.push({series:[].concat(t.series),filed:t.filed,scale:t.scale}):e.series=e.series.concat(t.series)},L=this,M=0,O=T;M<O.length;M++)A(O[M]);else 1===this._layouts.length&&(this.__scalePairs=this._layouts[0].scalePairs);this._datamodel.encoding._radial||this._layoutLine(a,s);for(var C=0,k=this.__shapeList;C<k.length;C++){var I=k[C];this.addViewWithOutReLayout(I),I instanceof e.PlotShape&&null!=I.label&&this.addViewWithOutReLayout(I.label)}}},o.prototype._layoutLine=function(t,i){for(var n=[],r=0,s=this.layouts;r<s.length;r++)for(var o=0,l=s[r].scalePairs;o<l.length;o++){var c=l[o];if("y"==c.filed.name){var h=c.scale.getScaleValue(0);if(n.indexOf(h)<0){n.push(h);var u=new e.AxisLineShape(this.getContext(),t,h,i,h,a.strokestyle);this.__shapeList.push(u)}}}},o.prototype.beginLoadingAnimation=function(){for(var t=500/this.children.length,i=function(i){var a=n.children[i];a instanceof e.ScatterShape?setTimeout(function(){console.log("index  "+i);var t=new e.ScatterAnimation(null);t.duration=500,t.from=.2,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*i):a instanceof e.BarShape?setTimeout(function(){var t=new e.BarAnimation(null);t.duration=1e3,t.from=.3,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*i):a instanceof e.AreaShape||a instanceof e.LinesShape?setTimeout(function(){var t=new e.AreaAnimation(null);t.duration=1e3,t.from=0,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*i):a instanceof e.RadialBarShape&&setTimeout(function(){var t=new e.SweepAnimation;t.duration=1e3,t.from=0,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*i)},n=this,a=0;a<this.children.length;++a)i(a)},o.prototype.__merageScale=function(){},o.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e)},Object.defineProperty(o.prototype,"layouts",{get:function(){return this._layouts},enumerable:!0,configurable:!0}),Object.defineProperty(o.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),o}(e.BasePlot),i.CartesianPlot=o}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.view.MeasureSpec,a=t.graphics.Size,r=t.view.LayoutParams,s=t.widget.FrameLayout,o=t.graphics.Gravity,l=t.graphics.StrokeStyle;i.StartAngle=Math.PI;var c=function(t){function s(e,i,n){var a=t.call(this,e)||this;return a._option=i,a._chartType=n,a._axisList=[],a}return __extends(s,t),Object.defineProperty(s.prototype,"option",{get:function(){return this._option},set:function(t){this._option=t},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"chartType",{get:function(){return this._chartType},set:function(t){null!=t&&t!=this._chartType&&(this._chartType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"datamodel",{get:function(){return this._dataModel},set:function(t){this._dataModel=t,this._dataModel.encoding._radial?this._loadRadialView():this._loadView()},enumerable:!0,configurable:!0}),s.prototype._loadView=function(){for(var t=0,e=this.datamodel.scalePairs;t<e.length;t++){var n=e[t];if("y"==n.filed.name){var a=new i.LineAxis(this.getContext());a.type=i.AxisType.Y,a.layoutParams.height=r.MATCH_PARENT,a.layoutParams.width=100,a.near=!0,a.majorStyle=new l(1,"black"),a.series=[].concat(n.series),a.lineStyle=new l(1,"black"),this._axisList.push(a),this.addView(a)}}this._axisList.length>1&&(this._axisList[this._axisList.length-1].near=!1);var s=new i.CartesianPlot(this.getContext(),this.datamodel);s.layoutParams.width=r.MATCH_PARENT,s.layoutParams.height=r.MATCH_PARENT,this._plot=s,this.addView(s);var o=new i.LineAxis(this.getContext());o.type=i.AxisType.X,o.layoutParams.width=r.MATCH_PARENT,o.layoutParams.height=100,o.majorStyle=new l(1,"black"),o.near=!0,o.lineStyle=new l(1,"black"),this._axisList.push(o),this.addView(o)},s.prototype.beginLoadingAnimation=function(){this.plot.beginLoadingAnimation()},s.prototype._loadRadialView=function(){for(var t=0,e=this.datamodel.scalePairs;t<e.length;t++){var n=e[t];if("y"==n.filed.name){var a=new i.RadialLineAxis(this.getContext());a.type=i.AxisType.Y,a.layoutParams.height=r.MATCH_PARENT,a.layoutParams.width=r.MATCH_PARENT,a.near=!0,a.series=[].concat(n.series),a.lineStyle=new l(1,"black"),a.majorStyle=new l(1,"black"),this._axisList.push(a),this.addView(a)}}this._axisList.length>1&&(this._axisList[this._axisList.length-1].near=!1);var s=new i.CartesianPlot(this.getContext(),this.datamodel);s.layoutParams.width=r.MATCH_PARENT,s.layoutParams.height=r.MATCH_PARENT,this._plot=s,this.addView(s);var c=new i.RadialLineAxis(this.getContext());c.type=i.AxisType.X,c.gravity=o.Center,c.layoutParams.width=r.MATCH_PARENT,c.layoutParams.height=r.MATCH_PARENT,c.majorStyle=new l(1,"black"),c.near=!0,c.lineStyle=new l(1,"black"),this._axisList.push(c),this.addView(c)},s.prototype.onMeasure=function(s,o,l){var c=new a(0,0);if(this.datamodel.encoding._radial){for(var h=0,u=0,p=this._axisList;u<p.length;u++){var _=(O=p[u]).onMeasure(s,o,l);O.type==i.AxisType.Y&&(h=_.width)}var f=s.getMeasureValue(),d=o.getMeasureValue(),y=f<d?f/2:d/2;y-=h;for(var g=i.StartAngle,m=2*Math.PI,v=0,b=this.children;v<b.length;v++){var w=b[v];_=new a(0,0),w instanceof i.BaseAxis?(w.type==i.AxisType.Y?_=w.onMeasure(new n(s.getMeasureValue(),r.EXACTLY),new n(o.getMeasureValue(),r.EXACTLY),l):w.type==i.AxisType.X&&w.onMeasure(s,o,l),w._innerRadius=0,w._startAngle=g,w._sweep=m,w._radius=y):w instanceof e.BasePlot&&(w.layoutParams.margin.marginLeft=h,w.layoutParams.margin.marginTop=h,w.layoutParams.margin.marginRight=h,w.layoutParams.margin.marginBottom=h,w.onMeasure(s,o,l))}}else{for(var S=0,x=0,P=0,T=0,A=[],L=0,M=this._axisList;L<M.length;L++){var O;_=(O=M[L]).onMeasure(s,o,l),O.type==i.AxisType.X?O.near?T=_.height:x=_.height:O.type==i.AxisType.Y&&(O.near?(S+=_.width,A.push(_.width)):(P+=_.width,A.push(_.width)))}for(var C=0,k=0,I=0,j=this.children;I<j.length;I++){var R=j[I];_=new a(0,0),R instanceof i.BaseAxis?R.type==i.AxisType.X?(R.layoutParams.margin.marginLeft=S,R.layoutParams.margin.marginRight=P,_=R.onMeasure(new n(s.getMeasureValue()-S-P,s.mode),o,l)):R.type==i.AxisType.Y&&(R.near?(R.layoutParams.margin.marginTop=x,R.layoutParams.margin.marginBottom=T,R.layoutParams.margin.marginLeft=C,C+=R.width,_=R.onMeasure(s,new n(o.getMeasureValue()-x-T,r.EXACTLY),l)):(R.layoutParams.margin.marginTop=x,R.layoutParams.margin.marginBottom=T,R.layoutParams.margin.marginRight=k,k+=R.width,_=R.onMeasure(s,new n(o.getMeasureValue()-x-T,r.EXACTLY),l))):R instanceof e.BasePlot?(R.layoutParams.margin.marginLeft=S,R.layoutParams.margin.marginRight=P,R.layoutParams.margin.marginTop=x,R.layoutParams.margin.marginBottom=T,_=R.onMeasure(s,o,l)):_=R.onMeasure(s,o,l),_.width>c.width&&(c.width=_.width),_.height>c.height&&(c.height=_.height)}}return t.prototype.onMeasure.call(this,s,o,l)},s.prototype.onLayout=function(t,e,n,a,r){this.layoutInfo.reset(t,e,n,a,this.padding,0);for(var s=0,o=this._axisList;s<o.length;s++)(h=o[s]).scale=null;this.layoutItem(this.plot,t,e,n,a,r);for(var l=0,c=this._axisList;l<c.length;l++){var h;if((h=c[l])instanceof i.BaseAxis)if(h instanceof i.RadialLineAxis&&(h._cx=(t+n)/2,h._cy=(e+a)/2),h.type===i.AxisType.X)for(var u=0,p=this.plot.scalePairs;u<p.length;u++)"x"==(y=p[u]).filed.name&&(h.scale=y.scale);else for(var f=0,d=this.plot.scalePairs;f<d.length;f++){var y;"y"==(y=d[f]).filed.name&&0==_.xor(y.series,h.series).length&&(h.scale=y.scale)}this.layoutItem(h,t,n,e,a,r)}},Object.defineProperty(s.prototype,"plot",{get:function(){for(var t=0,e=this.children;t<e.length;t++){var n=e[t];if(n instanceof i.CartesianPlot)return n}},enumerable:!0,configurable:!0}),s.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e)},s}(s);i.CartesianChart=c})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.graphics.Gravity,n=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.__legends=[],e}return __extends(e,t),e.prototype.setMainLayout=function(t){this.__mainLayout=t,this.addView(t,0)},e.prototype.addLegend=function(t){this.__legends.push(t),this.addView(t,0)},e.prototype.removeAllViews=function(){t.prototype.removeAllViews.call(this),this.__mainLayout=null,this.__legends.length=0},e.prototype.onMeasure=function(e,n,a){t.prototype.onMeasure.call(this,e,n,a),null==this.__oldMargin?this.__oldMargin=_.cloneDeep(this.__mainLayout.layoutParams.margin):this.__mainLayout.layoutParams.margin=_.cloneDeep(this.__oldMargin);for(var r=0,s=this.__legends;r<s.length;r++){var o=s[r];switch(o.gravity){case i.Left:this.__mainLayout.layoutParams.margin.marginLeft+=o.width+o.layoutParams.margin.marginLeft+o.layoutParams.margin.marginRight;break;case i.Right:this.__mainLayout.layoutParams.margin.marginRight+=o.width+o.layoutParams.margin.marginRight+o.layoutParams.margin.marginLeft;break;case i.Top:this.__mainLayout.layoutParams.margin.marginTop+=o.height+o.layoutParams.margin.marginTop+o.layoutParams.margin.marginBottom;break;case i.Bottom:this.__mainLayout.layoutParams.margin.marginBottom+=o.height+o.layoutParams.margin.marginBottom+o.layoutParams.margin.marginTop}}return t.prototype.onMeasure.call(this,e,n,a)},e.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},e}(t.widget.RootView);e.BaseChartLayout=n}(t.test||(t.test={}))}(android||(android={})),function(t){var e;(function(i){var n=t.graphics.Padding,a=t.graphics.Gravity,r=t.view.LayoutParams,s=t.graphics.RenderType,o=t.graphics.Util,l=t.util.Handler;i.EventMessage="EventMessage";var c=function(t){function c(n){var a=t.call(this,n)||this;a.clip=!1;var r=new l(function(t){var i=t.args.types,n=t.args.info;if(console.log(" , type "+i+" , info "+n),i==e.ElementType.SeriesLegend){var r=a._dataModel.filter.series.indexOf(n.series);"enableseries"===n.action?(n.enable?r>-1&&a._dataModel.filter.series.splice(r,1):r<0&&a._dataModel.filter.series.push(n.series),a.perpareComparedAnimation(),a._dataModel.refresh(),a.setChart(),a.startCompare()):"showlabel"===n.action&&a.requestLayout()}});return n.setArgs(i.EventMessage,r),a}return __extends(c,t),c.prototype.attachElement=function(e,i,a,r){t.prototype.attachElement.call(this,e,o.asEnum(i,s)),this.padding=new n(20),this._dataModel=a,this.setChart()},c.prototype.beginLoadingAnimation=function(){if(null!=this.getContext()){var t=this.getContext().getArgs("comparedanimation");null!=t&&t.clear()}this._chart.beginLoadingAnimation()},c.prototype.setChart=function(){if(this.removeAllViews(),this._chart=new i.CartesianChart(this.getContext(),null,e.ChartType.Bar),this._chart.layoutParams.width=r.MATCH_PARENT,this._chart.layoutParams.height=r.MATCH_PARENT,this._chart.datamodel=this._dataModel,this._chart.gravity=a.Bottom,this.setMainLayout(this._chart),this._dataModel.allSeries.length>1?((s=new i.SeriesLegend(this.getContext(),"bar")).series=this._dataModel.allSeries,s.gravity=a.Bottom,s.layoutParams.margin.marginLeft=0,s.layoutParams.margin.marginTop=20,s.layoutParams.width=r.WRAP_CONTENT,s.layoutParams.height=r.WRAP_CONTENT,this.addLegend(s)):this._dataModel.series.length,null!=this._dataModel)for(var t=0,n=this._dataModel.scalePairs;t<n.length;t++){var s,o=n[t];"color"==o.filed.name&&((s=new i.ScaleLegend(this.getContext(),"color")).scale=o.scale,s.layoutParams.width=200,s.layoutParams.height=30,s.gravity=a.Top,s.layoutParams.margin.marginLeft=100,s.layoutParams.margin.marginBottom=20,this.addLegend(s))}},c.prototype.oninvalidate=function(){t.prototype.oninvalidate.call(this)},c.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e);var i=this.layoutInfo.outterrect;e.drawRect(i.startPoint,i.endPoint,!1,this.background)},c.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},c.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},c.prototype.addView=function(e,i){return t.prototype.addView.call(this,e,i),0},c}(e.BaseChartLayout);i.ChartLayout=c})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){var e,i,n,a,r;e=t.test||(t.test={}),i=e.hierarchical||(e.hierarchical={}),n=t.graphics.Rect,a=t.graphics.Util,r=function(r){function s(e,i){var a=r.call(this,e)||this;return a.__comparedAnimationCache=new t.ComparedAnimationCache,a._datamodel=i,a._layouts=[],a.__scalePairs=[],a._currentRect=new n(0,0,0,0),a}return __extends(s,r),s.prototype.scaleCallBack=function(t){var r=this;t.width*t.height<this.layoutInfo.innerrect.width*this.layoutInfo.innerrect.height/4?this._datamodel.chartType===e.ChartType.TreeMap&&setTimeout(function(){var t=new i.TreeMapLayout(r.getContext(),r.layoutInfo.innerrect),s=r._currentRect;r._currentRect=new n(s.left-s.width/2,s.top-s.height/2,s.right+s.width/2,s.bottom+s.height/2),t.convert(r._datamodel.root,r._datamodel.encoding,r._currentRect,r._canvas);for(var o=[],l=0,c=t.shapeList;l<c.length;l++){var h=c[l];a.isMixed(h.layoutInfo.innerrect,r.layoutInfo.innerrect)&&o.push(h)}console.log("after shapelist size  "+o.length),r.removeAllViews();for(var u=0,p=o;u<p.length;u++){var _=p[u];r.addViewWithOutReLayout(_),_ instanceof e.PlotShape&&null!=_.label&&r.addViewWithOutReLayout(_.label)}r.__comparedAnimationCache.startCompare(o)},100):t.width*t.height>this.layoutInfo.innerrect.width*this.layoutInfo.innerrect.height/4&&this._datamodel.chartType===e.ChartType.TreeMap&&setTimeout(function(){var t=new i.TreeMapLayout(r.getContext(),r.layoutInfo.innerrect),s=r._currentRect;r._currentRect=new n(s.left+s.width/4,s.top+s.height/4,s.right-s.width/4,s.bottom-s.height/4),t.convert(r._datamodel.root,r._datamodel.encoding,r._currentRect,r._canvas);for(var o=[],l=0,c=t.shapeList;l<c.length;l++){var h=c[l];a.isMixed(h.layoutInfo.innerrect,r.layoutInfo.innerrect)&&o.push(h)}console.log("after shapelist size  "+o.length),r.removeAllViews();for(var u=0,p=o;u<p.length;u++){var _=p[u];r.addViewWithOutReLayout(_),_ instanceof e.PlotShape&&null!=_.label&&r.addViewWithOutReLayout(_.label)}r.__comparedAnimationCache.startCompare(o)},100)},s.prototype.addViewWithOutReLayout=function(t,i,n){return t instanceof e.CubeShape&&(t.scaleCallBack=this.scaleCallBack.bind(this)),r.prototype.addViewWithOutReLayout.call(this,t,i,n)},s.prototype.onMeasure=function(t,e,i){return r.prototype.onMeasure.call(this,t,e,i)},s.prototype.onLayout=function(t,a,s,o,l){var c=this;if(r.prototype.onLayout.call(this,t,a,s,o,l),this.islayoutChanged){this.removeAllViews();var h=[];if(this.__scalePairs=[],this._layouts.length=0,this._datamodel.chartType==e.ChartType.Sunburst){var u=new i.SunburstLayout(this.getContext(),0,2*Math.PI,0);this._currentRect=new n(t,a,s,o),u.convert(this._datamodel.root,this._datamodel.encoding,this._currentRect,l),h=u.shapeList}else if(this._datamodel.chartType==e.ChartType.TreeMap){var p=new i.TreeMapLayout(this.getContext(),this.layoutInfo.innerrect);this._currentRect=new n(t,a,s,o),p.convert(this._datamodel.root,this._datamodel.encoding,this._currentRect,l),h=p.shapeList,console.log("before shape list size "+h.length),null!=this.__comparedAnimationCache&&setTimeout(function(){c.__comparedAnimationCache.startCompare(h)})}for(var _=0,f=h;_<f.length;_++){var d=f[_];this.addViewWithOutReLayout(d),d instanceof e.PlotShape&&null!=d.label&&this.addViewWithOutReLayout(d.label)}}},s.prototype.beginLoadingAnimation=function(){for(var t=500/this.children.length,i=function(i){var a=n.children[i];if(a instanceof e.CubeShape)setTimeout(function(){var t=new e.CubeAnimation(null);t.duration=500,t.from=.2,t.to=1,t.fillAfter=!1,a.startAnimation(t)},t*i);else if(a instanceof e.SunburstShape){var r=new e.SweepAnimation;r.duration=1500,r.from=.2,r.to=1,r.fillAfter=!1,a.startAnimation(r)}},n=this,a=0;a<this.children.length;++a)i(a)},s.prototype.__merageScale=function(){},s.prototype.onDraw=function(t){r.prototype.onDraw.call(this,t)},s.prototype.dispatchDraw=function(t){t.save(),t.clip(this.layoutInfo.innerrect),r.prototype.dispatchDraw.call(this,t),t.restore()},Object.defineProperty(s.prototype,"layouts",{get:function(){return this._layouts},enumerable:!0,configurable:!0}),Object.defineProperty(s.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),s}(e.BasePlot),i.HierarchicalPlot=r}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.graphics.Size,a=t.view.LayoutParams,r=function(t){function r(e,i,n){var a=t.call(this,e)||this;return a._option=i,a._chartType=n,a}return __extends(r,t),Object.defineProperty(r.prototype,"option",{get:function(){return this._option},set:function(t){this._option=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"chartType",{get:function(){return this._chartType},set:function(t){null!=t&&t!=this._chartType&&(this._chartType=t)},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"datamodel",{get:function(){return this._dataModel},set:function(t){this._dataModel=t,this._loadView()},enumerable:!0,configurable:!0}),r.prototype._loadView=function(){var t=new i.HierarchicalPlot(this.getContext(),this.datamodel);t.layoutParams.width=a.MATCH_PARENT,t.layoutParams.height=a.MATCH_PARENT,this._plot=t,this.addView(t)},r.prototype.beginLoadingAnimation=function(){this.plot.beginLoadingAnimation()},r.prototype.onMeasure=function(i,a,r){for(var s=new n(0,0),o=0,l=this.children;o<l.length;o++){var c=l[o],h=new n(0,0);c instanceof e.BasePlot?(c.layoutParams.margin.marginLeft=0,c.layoutParams.margin.marginRight=0,c.layoutParams.margin.marginTop=0,c.layoutParams.margin.marginBottom=0,h=c.onMeasure(i,a,r)):h=c.onMeasure(i,a,r),h.width>s.width&&(s.width=h.width),h.height>s.height&&(s.height=h.height)}return t.prototype.onMeasure.call(this,i,a,r)},r.prototype.onLayout=function(t,e,i,n,a){this.layoutInfo.reset(t,e,i,n,this.padding,0),this.layoutItem(this.plot,t,e,i,n,a)},Object.defineProperty(r.prototype,"plot",{get:function(){for(var t=0,i=this.children;t<i.length;t++){var n=i[t];if(n instanceof e.BasePlot)return n}},enumerable:!0,configurable:!0}),r.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e)},r}(t.widget.FrameLayout);i.HierarchicalChart=r})((e=t.test||(t.test={})).hierarchical||(e.hierarchical={}))}(android||(android={})),function(t){var e,i,n,a,r,s,o,l,c;e=t.test||(t.test={}),i=e.hierarchical||(e.hierarchical={}),n=t.graphics.Padding,a=t.graphics.Gravity,r=t.view.LayoutParams,s=t.graphics.RenderType,o=t.widget.RootView,l=t.graphics.Util,c=function(t){function o(e){var i=t.call(this,e)||this;return i.clip=!1,window.EventHandler=function(t,e,i){console.log(" "+t.toString()+", type "+e+" , info "+i)},i}return __extends(o,t),o.prototype.attachElement=function(e,i,a){t.prototype.attachElement.call(this,e,l.asEnum(i,s)),this.padding=new n(20),this._dataModel=a,this.setChart()},o.prototype.beginLoadingAnimation=function(){this._chart.beginLoadingAnimation()},o.prototype.setChart=function(){this.removeAllViews(),this._chart=new i.HierarchicalChart(this.getContext(),null,e.ChartType.Bar),this._chart.layoutParams.width=r.MATCH_PARENT,this._chart.layoutParams.height=r.MATCH_PARENT,this._chart.datamodel=this._dataModel,this._chart.gravity=a.Center,this.addView(this._chart,0)},o.prototype.dispatchDraw=function(e){t.prototype.dispatchDraw.call(this,e);var i=this.layoutInfo.outterrect;e.drawRect(i.startPoint,i.endPoint,!1,this.background)},o.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},o.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},o.prototype.addView=function(e,i){return t.prototype.addView.call(this,e,i),0},o}(o),i.ChartLayout=c}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){function t(){this.__xs=[],this.__ys=[],this.__ptlist=[]}return t.prototype.push=function(t){this.__ptlist.push(t),this.__xs.push(t.x),this.__ys.push(t.y)},t.prototype.pop=function(){return this.__xs.pop(),this.__ys.pop(),this.__ptlist.pop()},Object.defineProperty(t.prototype,"xs",{get:function(){return this.__xs},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ys",{get:function(){return this.__ys},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"points",{get:function(){return this.__ptlist},enumerable:!0,configurable:!0}),t}();t.PointList=e;var i=function(){function t(){this._pointList=new e}return t.prototype.setProjection=function(t){this._projection=t},Object.defineProperty(t.prototype,"result",{get:function(){return this._pointList},enumerable:!0,configurable:!0}),t}();t.Stream=i;var n=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.parseStream=function(t){var e=null;if(null!=t&&t instanceof Array)for(var i=0,n=t;i<n.length;i++)for(var a=0,r=n[i];a<r.length;a++){var s=r[a];if(s instanceof Array&&2===s.length){var o=this._projection.lonLat2xy(s[0],s[1]);null!=o&&(this._pointList.push(o),null==e&&(e=o.clone()))}}},e}(i);t.AreaStream=n;var a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.parseStream=function(t){if(null!=t&&t instanceof Array)for(var e=0,i=t;e<i.length;e++){var n=i[e];if(n instanceof Array&&2===n.length){var a=this._projection.lonLat2xy(n[0],n[1]);null!=a&&this._pointList.push(a)}}},e}(i);t.LineStream=a;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.parseStream=function(t){if(null!=t&&t instanceof Array){var e=this._projection.lonLat2xy(t[0],t[1]);null!=e&&this._pointList.push(e)}},e}(i);t.PointStream=r})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){function t(){}return t.streamLine=function(t,e){},t.streamArea=function(t,e){},t}();t.StreamFactory=e})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(e){"use strict";var i,n,a=t.graphics.Util;(n=i=e.GeoType||(e.GeoType={}))[n.Point=0]="Point",n[n.MultiPoint=1]="MultiPoint",n[n.LineString=2]="LineString",n[n.MultiLineString=3]="MultiLineString",n[n.Polygon=4]="Polygon",n[n.MultiPolygon=5]="MultiPolygon",n[n.GeometryCollection=6]="GeometryCollection",n[n.Feature=7]="Feature",n[n.FeatureCollection=8]="FeatureCollection";var r=function(){function t(){}return t.prototype.parseFeature=function(t){if(null!=this.projection){this.properties=t.properties;var e=t.geometry;if(this.parseName(this.properties),this.streams=[],null!=e){var n=a.asEnum(e.type,i,!0),r=e.coordinates;switch(n){case i.Point:this.streams.push(this._createPointStream(r));break;case i.MultiPoint:this.streams=this.streams.concat(this._createMultiPointStream(r));break;case i.LineString:this.streams.push(this._createLineStream(r));break;case i.MultiLineString:this.streams=this.streams.concat(this._createMultiLineStream(r));break;case i.Polygon:this.streams.push(this._createAreaStream(r));break;case i.MultiPolygon:this.streams=this.streams.concat(this._createMultiAreaStream(r))}}}},t.prototype.parseName=function(t){null!=t&&(this.name=t.name,null==this.name&&(this.name=t.NAME))},t.prototype._createPointStream=function(t){var i=new e.PointStream;return i.setProjection(this.projection),i.parseStream(t),i},t.prototype._createLineStream=function(t){var i=new e.LineStream;return i.setProjection(this.projection),i.parseStream(t),i},t.prototype._createAreaStream=function(t){var i=new e.AreaStream;return i.setProjection(this.projection),i.parseStream(t),i},t.prototype._createMultiPointStream=function(t){var e=[];if(null!=t&&t instanceof Array)for(var i=0,n=t;i<n.length;i++){var a=n[i];e.push(this._createPointStream(a))}return e},t.prototype._createMultiLineStream=function(t){var e=[];if(null!=t&&t instanceof Array)for(var i=0,n=t;i<n.length;i++){var a=n[i];e.push(this._createLineStream(a))}return e},t.prototype._createMultiAreaStream=function(t){var e=[];if(null!=t&&t instanceof Array)for(var i=0,n=t;i<n.length;i++){var a=n[i];e.push(this._createAreaStream(a))}return e},t}();e.Feature=r})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){};t.ParseFactory=e})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){};t.Projection=e})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(e){"use strict";var i=t.graphics.Point;e.EARTH_RADIUS=6378137,e.EQUATOR=2*e.EARTH_RADIUS*Math.PI;var n=function(t){function e(){var e=t.call(this)||this;return e.__centerlon=0,e.__centerlat=0,e.__xoffset=0,e.__yoffset=0,e._scale=1,null==e.__circumference&&(e.__circumference=1e3),e._scale=1,e}return __extends(e,t),e.prototype.begin=function(){this._max=0,this._min=0,this._maxy=0,this._miny=0,this.lonLat2xy(-180,-90),this.lonLat2xy(180,90)},e.prototype.end=function(){this._max=0,this._min=0,this._maxy=0,this._miny=0},Object.defineProperty(e.prototype,"maxx",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minx",{get:function(){return this._min},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxy",{get:function(){return this._max},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"miny",{get:function(){return this._min},enumerable:!0,configurable:!0}),e.prototype.scale=function(t){this._scale=t},e.prototype.rotate=function(t,e,i){this.__lambda=t,this.__phi=e,this.__gamma=i},e.prototype.translate=function(t,e){null==t||isNaN(t)||(this.__xoffset+=t),null==e||isNaN(e)||(this.__yoffset+=e)},e.prototype.center=function(t,e){this.__centerlon=t,this.__centerlat=e},e.prototype.xy2LonLat=function(t,e){var i=this.__circumference*this._scale,n={lon:0,lat:0},a=t/i*180,r=e/i*180;return r=180/Math.PI*(2*Math.atan(Math.exp(r*Math.PI/180))-Math.PI/2),n.lon=a,n.lat=r,n},e.prototype.lonLat2xy=function(t,n){var a=this.__circumference*this._scale;t-=this.__centerlon,n-=this.__centerlat;var r=null==this.__lambda||isNaN(this.__lambda)?0:this.__lambda,s=null==this.__phi||isNaN(this.__phi)?0:this.__phi,o=null==this.__gamma||isNaN(this.__gamma)?0:this.__gamma;if(t=r+t,n=s+n,!(Math.abs(n)>e.MAX_LAT)){var l=t*a/180,c=Math.log(Math.tan((90+n)*Math.PI/360))/(Math.PI/180);if(c=c*a/180,o>0){var h=(0==l?0:Math.atan(c/l))+o*Math.PI/180,u=Math.sqrt(l*l+c*c);l=Math.cos(h)*u,c=Math.sin(h)*u}var p=new i(l,c);return p.offset(this.__xoffset,this.__yoffset),p.offset(0,-a/2),p.y=-p.y,p}},e.prototype.refresh=function(){},e.MAX_LAT=85.05112877980659,e}(e.Projection);e.MercatorProjection=n})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){function t(){}return t.create=function(t){return void 0===t&&(t=null),null},t}();t.ProjectionFactory=e})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.graphics.Util,a=t.test.cartesian.Series,r=t.test.cartesian.Filter,s=t.test.cartesian.Encoding,o=t.graphics.Point,l=function(){function t(n){this.__chartTypes=[],t.id=0,this.__data=n,this.projection=new i.MercatorProjection,null!=n.config&&(this.__config=new e.Config(n.config),null!=this.__config.center&&this.projection.center(this.__config.center.x,this.__config.center.y),null!=this.__config.translate&&this.projection.translate(this.__config.translate.x,this.__config.translate.y),null!=this.__config.scale&&this.projection.scale(this.__config.scale)),this.__encoding=this._analyseEncoding(this.__data.encoding),this._analyseFilter(n.filter),this.refresh()}return Object.defineProperty(t.prototype,"config",{get:function(){return this.__config},enumerable:!0,configurable:!0}),t.prototype._analyseEncoding=function(t){return new s(t)},t.prototype.refresh=function(){t.id=0,this.__analyseGeoData(this.__data.geo),this._analyseSeries(this.__data.series,this.__encoding),this._createLayoutScales(this.__encoding)},Object.defineProperty(t.prototype,"chartTypes",{get:function(){return this.__chartTypes},enumerable:!0,configurable:!0}),t.prototype._analyseSeries=function(t,e){this.__series=[],this.__allSeries=[];for(var i=0;i<t.length;++i){var n=t[i],r=new a(e,n,i);null!=this.__filter&&this.__filter.series.indexOf(n.name)>-1?(r.enable=!0,this.__series.push(r),this.__chartTypes.indexOf(r.chartType)<0&&this.__chartTypes.push(r.chartType)):r.enable=!1,this.__allSeries.push(r)}},t.prototype._analyseFilter=function(t){null!=t&&null!=t.series&&null!=t.rules&&(this.__filter=new r(t.series,t.rules))},t.prototype.__analyseGeoData=function(e){this.projection.begin();var a=n.asEnum(e.type,i.GeoType,!0);if(this.featureList=[],a==i.GeoType.FeatureCollection){var r=e.features;if(null!=r&&r instanceof Array)for(var s=0,o=r;s<o.length;s++){var l=o[s],c=new i.Feature;c.id=(++t.id).toFixed(),null!=this.projection&&(c.projection=this.projection),c.parseFeature(l),this.featureList.push(c)}}this.projection.end()},t.prototype._createLayoutScales=function(t){var i=this;if(this.__scalePairs=[],this.__series.length>1){for(var n=0;n<this.__series.length-1;++n)for(var a=this.__series[n],r=this.__series[n+1],s=0,l=a.scalePairs;s<l.length;s++)for(var c=l[s],h=0,u=r.scalePairs;h<u.length;h++){var p=u[h];if(c.filed.equals(p.filed)){var _=c.filed,f=this.__getScaleInfobyname(c.filed.name,a.name),d=this.__getScaleInfobyname(p.filed.name,r.name);null==f&&null==d?null!=(w=e.Utility.mergeScale(c.scale,p.scale,!0))?this.__scalePairs.push({series:[a.name,r.name],filed:_,scale:w}):(this.__scalePairs.push({series:[a.name],filed:c.filed,scale:c.scale}),this.__scalePairs.push({series:[r.name],filed:p.filed,scale:p.scale})):null==f&&null!=d?null!=(w=e.Utility.mergeScale(c.scale,d.scale,!0))&&(d.scale=w,d.series.push(a.name)):null!=f&&null==d&&null!=(w=e.Utility.mergeScale(p.scale,f.scale,!0))&&(f.scale=w,f.series.push(r.name))}}for(var y=0,g=this.__series;y<g.length;y++)for(var m=g[y],v=0,b=m.scalePairs;v<b.length;v++){var w,S=b[v];null!=(w=this._getScaleByName(S.filed.name,m.name))&&(S.scale=w)}}else if(1==this.__series.length)for(var x=0,P=this.__series[0].scalePairs;x<P.length;x++)S=P[x],this.__scalePairs.push({series:[this.__series[0].name],filed:S.filed,scale:S.scale.clone()});var T=this.nameScale;null!=T&&null!=T.domains&&T.domains.map(function(t){return t instanceof o?i.projection.lonLat2xy(t.x,t.y):t})},Object.defineProperty(t.prototype,"nameScale",{get:function(){var t=_.result(_.find(this.__scalePairs,function(t){return"geoposition"==t.filed.name}),"scale");return t instanceof i.MapOrdinalScale?t:null},enumerable:!0,configurable:!0}),t.prototype.__getScaleInfobyname=function(t,e){return _.find(this.__scalePairs,function(i){return i.series.indexOf(e)>=0&&t==i.filed.name})},t.prototype._getScaleByName=function(t,e){return _.result(_.find(this.__scalePairs,function(i){return i.series.indexOf(e)>=0&&t==i.filed.name}),"scale")},t.prototype.getSeriesByType=function(t){return _.filter(this.__series,function(e){return e.chartType===t})},Object.defineProperty(t.prototype,"series",{get:function(){return this.__series},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"allSeries",{get:function(){return this.__allSeries},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"encoding",{get:function(){return this.__encoding},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"filter",{get:function(){return this.__filter},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),t.id=0,t}();i.DataModel=l})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),function(e){"use strict";var i=t.test.cartesian.Field,n=function(t){if(t.color&&(this.color=new i(t.color,"color")),t.tooltip&&(this.tooltip=new i(t.tooltip,"tooltip")),t.text&&(this.text=new i(t.text,"text")),t.values&&t.values instanceof Array){this.values=[];for(var e=0;e<t.values.length;++e){var n=t.values[e];this.values.push(new i(n,n.name))}}};e.Encoding=n}((i=e.map||(e.map={})).relation||(i.relation={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),function(n){"use strict";var a=t.graphics.Util,r=t.test.map.relation.Encoding,s=function(){};n.Item=s;var o=function(){function t(n){this.__chartTypes=[],this._points=[],t.id=0,this.__data=n,this.projection=new i.MercatorProjection,null!=n.config&&(this.__config=new e.Config(n.config),null!=this.__config.center&&this.projection.center(this.__config.center.x,this.__config.center.y),null!=this.__config.translate&&this.projection.translate(this.__config.translate.x,this.__config.translate.y),null!=this.__config.scale&&this.projection.scale(this.__config.scale)),this.__encoding=this._analyseEncoding(this.__data.encoding),this.refresh()}return Object.defineProperty(t.prototype,"points",{get:function(){return this._points},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"config",{get:function(){return this.__config},enumerable:!0,configurable:!0}),t.prototype._analysePathValue=function(t){for(var e=0,i=t;e<i.length;e++){var n=i[e],a=new s;a.start=this.projection.lonLat2xy(n.start.longitude,n.start.latitude),a.end=this.projection.lonLat2xy(n.end.longitude,n.end.latitude),a.value=n,this._points.push(a)}},t.prototype._analyseEncoding=function(t){return new r(t)},t.prototype.refresh=function(){t.id=0,this.projection.begin(),this.__analyseGeoData(this.__data.geo),this._analysePathValue(this.__data.values),this.projection.end()},Object.defineProperty(t.prototype,"chartTypes",{get:function(){return this.__chartTypes},enumerable:!0,configurable:!0}),t.prototype.__analyseGeoData=function(e){var n=a.asEnum(e.type,i.GeoType,!0);if(this.featureList=[],n==i.GeoType.FeatureCollection){var r=e.features;if(null!=r&&r instanceof Array)for(var s=0,o=r;s<o.length;s++){var l=o[s],c=new i.Feature;c.id=(++t.id).toFixed(),null!=this.projection&&(c.projection=this.projection),c.parseFeature(l),this.featureList.push(c)}}},Object.defineProperty(t.prototype,"encoding",{get:function(){return this.__encoding},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"scalePairs",{get:function(){return this.__scalePairs},enumerable:!0,configurable:!0}),t.id=0,t}();n.DataModel=o}((i=e.map||(e.map={})).relation||(i.relation={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var e=function(){function t(t){this.__airportsFields=_.cloneDeep(t.airportsFields),this.__airlinesFields=_.cloneDeep(t.airlineFields),this.__airports=_.cloneDeep(t.airports),this.__airlines=_.cloneDeep(t.airlines),this.__routes=_.cloneDeep(t.routes),this._analyse()}return Object.defineProperty(t.prototype,"data",{get:function(){return this.__data},enumerable:!0,configurable:!0}),t.prototype._analyse=function(){var t=this,e=this.__airlines.map(function(e){for(var i={},n=0;n<e.length;++n)i[t.__airlinesFields[n]]=e[n];return i}),i=this.__airports.map(function(e){for(var i={},n=0;n<e.length;++n)i[t.__airportsFields[n]]=e[n];return i});this.__data=this.__routes.map(function(t){var n={start:{},end:{}},a=e[t[0]],r=i[t[1]],s=i[t[2]];for(var o in a)n.start[o]=a[o],n.end[o]=a[o];for(var o in r)n.start[o]=r[o];for(var o in s)n.end[o]=s[o];return n})},t}();t.FlightParser=e})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=t.view.event.MotionEvent,r=t.graphics.Point,s=t.graphics.Rect,o=function(t){function o(e){var i=t.call(this,e)||this;return i._layouts=[],i.__shapeList=[],i._ofx=0,i._ofy=0,i._style=n.style,i._style.background="#333",i}return __extends(o,t),Object.defineProperty(o.prototype,"datamodel",{get:function(){return this._dataModel},set:function(t){this._dataModel=t},enumerable:!0,configurable:!0}),o.prototype.onMouseEvent=function(t){switch(t.action){case a.ACTION_MOUSE_DOWN:return this._startPt=new r(t.x,t.y),!0;case a.ACTION_MOUSE_UP:case a.ACTION_CANCEL:case a.ACTION_MOUSE_OUT:return this._startPt=null,!0;case a.ACTION_MOUSE_MOVE:if(null!=this._startPt){var e=t.x-this._startPt.x,n=this._startPt.y-t.y;return this._startPt.x=t.x,this._startPt.y=t.y,null==this.datamodel.projection&&(this.datamodel.projection=new i.MercatorProjection),console.log("ofx "+e+" , ofy "+n),this.datamodel.projection.translate(e,n),this.datamodel.refresh(),this.requestLayout(),!0}}return!1},o.prototype.onInterceptMouseEvent=function(t){return!0},o.prototype.beginLoadingAnimation=function(){for(var t=500/this.children.length,i=function(i){var a=n.children[i],r=new e.FlightAnimationTo;r.duration=1e3*Math.random()+1500,r.from=0,r.to=1,r.repeate=!0,setTimeout(function(){a instanceof e.FlightShape&&a.startAnimation(r)},t*i)},n=this,a=0;a<this.children.length;++a)i(a)},o.prototype.onLayout=function(n,a,r,o,l){if(t.prototype.onLayout.call(this,n,a,r,o,l),this.islayoutChanged){this.removeAllViews(),this.__shapeList=[],this._layouts=[];var c=new i.GeoLayout(this.getContext());c.convert(this._dataModel.featureList,new s(n,a,r,o),l),this.__shapeList=this.__shapeList.concat(c.shapeList);var h=null;if(this.datamodel instanceof i.DataModel&&(h=this.datamodel.nameScale),null==h&&(h=c.nameScale),this._dataModel instanceof i.DataModel)for(var u=0,p=this._dataModel.chartTypes;u<p.length;u++)switch(p[u]){case e.ChartType.Scatter:var _=new i.MapScatterLayout(this.getContext());_.convert(this._dataModel.getSeriesByType(e.ChartType.Scatter),this._dataModel.projection,h,this._dataModel.encoding,new s(n,a,r,o),l),this.__shapeList=this.__shapeList.concat(_.shapeList),this._layouts.push(_)}else if(this._dataModel instanceof i.relation.DataModel){var f=new i.relation.MapRelationLayout(this.getContext());f.convert(this._dataModel.points,new s(n,a,r,o),l),this.__shapeList=this.__shapeList.concat(f.shapeList),this._layouts.push(f)}for(var d=0,y=this.__shapeList;d<y.length;d++){var g=y[d];this.addViewWithOutReLayout(g),g instanceof e.PlotShape&&null!=g.label&&this.addViewWithOutReLayout(g.label)}}},o.prototype.onDraw=function(e){t.prototype.onDraw.call(this,e)},o}(e.BasePlot);i.GeoPlot=o})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e,i,n,a,r,s,o,l,c;e=t.test||(t.test={}),i=e.map||(e.map={}),n=t.graphics.Padding,a=t.graphics.Gravity,r=t.view.LayoutParams,s=t.graphics.RenderType,o=t.widget.RootView,l=t.graphics.Util,c=function(t){function e(e){var i=t.call(this,e)||this;return i.clip=!1,window.EventHandler=function(t,e,i){console.log(" "+t.toString()+", type "+e+" , info "+i)},i.background.background="#333",i}return __extends(e,t),e.prototype.attachElement=function(e,i,a){t.prototype.attachElement.call(this,e,l.asEnum(i,s)),this.padding=new n(20),this._dataModel=a,this.setChart()},e.prototype.beginLoadingAnimation=function(){this._chart.beginLoadingAnimation()},e.prototype.setChart=function(){this.removeAllViews(),this._chart=new i.GeoPlot(this.getContext()),this._chart.layoutParams.width=r.MATCH_PARENT,this._chart.layoutParams.height=r.MATCH_PARENT,this._chart.datamodel=this._dataModel,this._chart.gravity=a.Center,this.addView(this._chart,0)},e.prototype.dispatchDraw=function(e){var i=this.layoutInfo.outterrect;e.drawRect(i.startPoint,i.endPoint,!0,this.background),t.prototype.dispatchDraw.call(this,e)},e.prototype.onMeasure=function(e,i,n){return t.prototype.onMeasure.call(this,e,i,n)},e.prototype.onLayout=function(e,i,n,a,r){t.prototype.onLayout.call(this,e,i,n,a,r)},e.prototype.addView=function(e,i){return t.prototype.addView.call(this,e,i),0},e}(o),i.ChartLayout=c}(android||(android={})),function(t){!function(e){"use strict";var i=t.graphics.Point,n=function(){return function(t){var e=t.geo;null!=e&&(null!=e.center&&(this.center=new i(e.center[0],e.center[1])),null!=e.translate&&(this.translate=new i(e.translate[0],e.translate[1])),e.scale&&(this.scale=e.scale))}}();e.Config=n}(t.test||(t.test={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),i=function(){return function(){}}(),e.EventHandler=i}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(){function t(t){this.__agg=t}return t.prototype.put=function(t,e){null==this.__domains[t]&&(this.__domains[t]=[]),this.__domains[t].push(e)},t.prototype.get=function(t){var i=this.__domains[t];if(null!=i){for(var n=0,a=0,r=0,s=i;r<s.length;r++){var o=s[r];"number"==typeof o&&(a+=o,n++)}switch(this.__agg){case e.Agg.AVERAGE:return a/n;case e.Agg.COUNT:return n;case e.Agg.SUM:return a;case e.Agg.NONE:return i[0]}}return 0},t}();t.AggregateCache=i})((e=t.test||(t.test={})).cartesian||(e.cartesian={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.animation.Animation,a=function(t){function n(n,a,r,s,o){var l=t.call(this,n)||this;l.priority=++e.LinesShape.LinesPrority,l.__xs=a,l.__ys=r;var c=e.Utility.min(a),h=e.Utility.min(r),u=e.Utility.max(a),p=e.Utility.max(r);return l.__renderXs=[],l.__renderYs=[],l.layoutInfo.reset(c,h,u,p,l.padding,0),l._oldLayoutInfo=l.layoutInfo.clone(),l._style=s,null==s&&(l._style=i.style),l._strokeStyle=o,null==o&&(l._strokeStyle=i.strokestyle),l}return __extends(n,t),Object.defineProperty(n.prototype,"xs",{get:function(){return this.__xs},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"ys",{get:function(){return this.__ys},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderXs",{set:function(t){this.__renderXs=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"renderYs",{set:function(t){this.__renderYs=t},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"strokeStyle",{get:function(){return this._strokeStyle},set:function(t){this._strokeStyle=t},enumerable:!0,configurable:!0}),n.prototype.onDrawShape=function(t){t.drawLines(this.__renderXs,this.__renderYs,this._strokeStyle)},n.LinesPrority=4*e.PlotShape.PRIORITY,n}(e.PlotShape);e.FlightShape=a;var r=function(e){function i(){var i=e.call(this)||this;return i.ease=new t.view.animation.AnimationEase,i}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof a){var n=i.xs,r=i.ys,s=n.length-1,o=[(n[s]-n[0])*t+n[0],(n[s]-n[0])*(t+.1)+n[0]],l=[(r[s]-r[0])*t+r[0],(r[s]-r[0])*(t+.1)+r[0]];i.renderXs=o,i.renderYs=l}},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i)},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i)},i}(n);e.FlightAnimationTo=r;var s=function(e){function i(){var i=e.call(this)||this;return i.ease=new t.view.animation.AnimationEase,i}return __extends(i,e),i.prototype.applyTransformation=function(t,e,i){if(i instanceof a){var n=i.xs,r=i.ys,s=n.length-1,o=[n[s]-(n[s]-n[0])*t,n[s]-(n[s]-n[0])*(t+.1)],l=[r[s]-(r[s]-r[0])*t,r[s]-(r[s]-r[0])*(t+.1)];i.renderXs=o,i.renderYs=l}},i.prototype.onStartAniamtion=function(t,i){e.prototype.onStartAniamtion.call(this,t,i)},i.prototype.onEndAnimation=function(t,i){e.prototype.onEndAnimation.call(this,t,i)},i}(n);e.FlightAnimationBack=s}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=t.device.Default,n=t.view.event.MotionEvent,a=t.graphics.Util,r=function(t){function r(n,r,s,o,l){var c=t.call(this,n)||this;c.priority=e.Shape.PRIORITY+1,c.__xs=r,c.__ys=s,c._style=o;var h=Math.min.apply(Math,r),u=Math.min.apply(Math,s),p=Math.max.apply(Math,r),_=Math.max.apply(Math,s);return c.layoutInfo.reset(h,u,p,_,c.padding,0),c._oldLayoutInfo=c.layoutInfo.clone(),c.__center=a.CenterOfPolygon(c.__xs,c.__ys),c.__area=a.Area(c.__xs,c.__ys),null==o&&(c._style=i.style),c._strokeStyle=l,null==l&&(c._strokeStyle=i.strokestyle),c}return __extends(r,t),Object.defineProperty(r.prototype,"center",{get:function(){return this.__center},set:function(t){this.__center=t},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"area",{get:function(){return this.__area},enumerable:!0,configurable:!0}),Object.defineProperty(r.prototype,"strokeStyle",{get:function(){return this._strokeStyle},set:function(t){this._strokeStyle=t},enumerable:!0,configurable:!0}),r.prototype.onDrawShape=function(t){t.save(),t.clip(this.layoutInfo.innerrect),t.drawPolygon(this.__xs,this.__ys,this.style),t.restore()},r.prototype.onMouseEvent=function(t){switch(t.action){case n.ACTION_MOUSE_ON:console.log("mouse on ");break;case n.ACTION_MOUSE_OUT:console.log("mouse out ");break;case n.ACTION_MOUSE_MOVE:case n.ACTION_MOUSE_OUT:}return!0},r}(e.PlotShape);e.MapItemShape=r}(t.test||(t.test={}))}(android||(android={})),function(t){!function(e){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onDraw=function(t){},e}(t.widget.TextView);e.ToolTips=i}(t.test||(t.test={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(i){function n(e){var n=i.call(this,e)||this;return n.__namescale=new t.MapOrdinalScale("name"),n}return __extends(n,i),n.prototype.convert=function(t,i,n){this.__shapelist.length=0;for(var a=0,r=t;a<r.length;a++){for(var s=r[a],o=null,l=0,c=s.streams;l<c.length;l++){var h=c[l].result,u=new e.MapItemShape(this.context,h.xs,h.ys);null==o&&(o=u),o.area<u.area&&(o=u),u.style.background="#000",u.style.strokeStyle.strokeColor="#cbcbcb",u.style.strokeStyle.strokeWidth=1,this.shapeList.push(u)}null!=o&&(this.__namescale.domains.push(s.name),this.__namescale.ranges.push(o.center))}return this.__namescale.refresh(),this.shapeList},Object.defineProperty(n.prototype,"nameScale",{get:function(){return this.__namescale},enumerable:!0,configurable:!0}),n}(e.BaseLayout);t.GeoLayout=i})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._rect=null,e}return __extends(e,t),e.prototype.convert=function(t,e,i,n,a,r){this.__shapelist=[],this._serieslist=[],this._projection=e,this._nameScale=i;for(var s=0,o=t;s<o.length;s++){var l=o[s];this._serieslist.push(l.clone())}this._encoding=n,this._rect=a;for(var c=0,h=this._serieslist;c<h.length;c++)l=h[c],this._layoutSeries(l,i,r);return this.__shapelist},e.prototype._layoutSeries=function(t,e,i){},e}(e.BaseLayout);t.MapBaseLayout=i})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(t){"use strict";var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.getScaleValue=function(t){var e=this._domainCache[t];return isNaN(e)&&(e=0),this.__ranges[e]},Object.defineProperty(e.prototype,"ranges",{get:function(){return this.__ranges},enumerable:!0,configurable:!0}),e}(e.OrdinalScale);t.MapOrdinalScale=i})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e;(function(i){"use strict";var n=t.device.Default,a=function(t){function i(){return null!==t&&t.apply(this,arguments)||this}return __extends(i,t),i.prototype._layoutSeries=function(t,i,a){this._serieslist.length,t.getScale("x"),t.getScale("y");var r=t.getScale("color"),s=t.getScale("size"),o=e.ColorUtils.indexColor(t.index),l=[];r instanceof e.OrdinalScale&&(r=r.clone(),l=e.ColorUtils.gradientColor(r.startPosition,r.endPosition,r.domains.length),r.range([0,r.domains.length-1]));for(var c=0,h=t.points;c<h.length;c++){var u=h[c];if(null!=u){var p=u.color,_=(u.shape,u.size),f=(u.tooltip,u.text),d=(u.geoposition,null);d=u.geoposition.scaleType===e.ScaleType.LatLon?this._projection.lonLat2xy(u.geoposition.value[0],u.geoposition.value[1]):i.getScaleValue(u.geoposition.value);var y=s.getScaleValue(_.value);(isNaN(y)||null==y||y<=0)&&(y=10);var g=o;r instanceof e.OrdinalScale?g=l[r.getScaleValue(p.value)]:r instanceof e.LinearScale&&(g=e.ColorUtils.getColor(r.startPosition,r.endPosition,p.value,r.min,r.max));var m=new e.ScatterShape(this.context,d.x-y/2,d.y-y/2,y,y,n.style);if(m.style.background=null!=g?g:o,t.showlabels&&null!=f){var v=f.value,b=n.font;b.fontColor="black",b.fontSize=12;var w=a.measureString(v,b),S=w.width,x=w.height;m.label=new e.Label(this.context,v,d.x,d.y-y/2-3,S,x,0,3),m.label.background=n.style,m.label._font=b,m.label.background.strokeStyle.strokeColor="gray",m.label.background.background="lightblue"}this.__shapelist.push(m)}}},i}(i.MapBaseLayout);i.MapScatterLayout=a})((e=t.test||(t.test={})).map||(e.map={}))}(android||(android={})),function(t){var e,i;e=t.test||(t.test={}),function(t){"use strict";var i=function(t){function i(e){return t.call(this,e)||this}return __extends(i,t),i.prototype.convert=function(t,i,n){this.__shapelist.length=0;for(var a=0,r=t;a<r.length;a++){var s=r[a],o=new e.FlightShape(this.context,[s.start.x,s.end.x],[s.start.y,s.end.y]);o.strokeStyle.strokeColor="red",o.strokeStyle.strokeWidth=.5,this.shapeList.push(o)}return this.shapeList},i}(e.BaseLayout);t.MapRelationLayout=i}((i=e.map||(e.map={})).relation||(i.relation={}))}(android||(android={}));